!function(e){function t(t){for(var a,o,c=t[0],s=t[1],l=t[2],b=0,u=[];b<c.length;b++)o=c[b],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(d&&d(t);u.length;)u.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,c=1;c<r.length;c++){var s=r[c];0!==n[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={0:0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;i.push([62,1]),r()}({101:function(e,t,r){},102:function(e,t,r){},103:function(e,t,r){},108:function(e,t,r){},109:function(e,t,r){},110:function(e,t,r){},111:function(e,t,r){},112:function(e,t,r){"use strict";r.r(t);r(7),r(22),r(9);var a=r(0),n=(r(101),r(1)),i=r(2);function o(e){var t,r,n=e[6].default,i=Object(a.g)(n,e,e[5],null);return{c(){t=Object(a.j)("div"),i&&i.c(),Object(a.c)(t,"class","gl")},m(n,o){Object(a.n)(n,t,o),i&&i.m(t,null),e[7](t),r=!0},p(e,t){var[r]=t;i&&i.p&&32&r&&Object(a.y)(i,n,e,e[5],r,null,null)},i(e){r||(Object(a.w)(i,e),r=!0)},o(e){Object(a.x)(i,e),r=!1},d(r){r&&Object(a.i)(t),i&&i.d(r),e[7](null)}}}function c(e,t,o){var{visible:c=!1}=t,{enabled:s=!1}=t,{createScene:l=null}=t,{createEngine:d=null}=t,b=Object(n.a)("ar"),u=Object(n.a)("marker"),v={scene:null,objects:[]};Object(n.c)("gl",v);var j,m=null;Object(n.b)(()=>{var e=r(36);e("https://cdn.babylonjs.com/babylon.js",()=>{e(["https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js","https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js","https://cdn.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js","https://cdn.babylonjs.com/gui/babylon.gui.min.js","https://cdn.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"],"extensions"),e.ready("extensions",()=>new Promise((function(e,t){var r=(null!=d?d:e=>{var t=document.createElement("canvas");return t.addEventListener("touchmove",e=>{e.preventDefault()},!1),e.appendChild(t),new BABYLON.Engine(t,!0)})(j);return(null!=l?l:e=>new Promise((function(t,r){var a=new BABYLON.Scene(e);a.useRightHandedSystem=!0,a.clearColor=new BABYLON.Color4(0,0,0,0);var n=new BABYLON.Camera("camera1",new BABYLON.Vector3.Zero,a);n.attachControl(e.getRenderingCanvas(),!0);new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(1,1,0),a),new BABYLON.PointLight("light2",new BABYLON.Vector3(0,1,-1),a);var i=BABYLON.MeshBuilder.CreateBox("box",{width:1,height:1,size:1},a),o=new BABYLON.TransformNode("markerRoot");return i.parent=o,t([a,n,o])})))(r).then(e=>{var[t,a,n]=e;for(var l in n.setEnabled(!1),v.objects)v.objects[l].parent=n;o(9,m=e=>{n.setEnabled("true"===s&&e),t.render()}),u.watch(e=>{if(e){var t=i.a.create();"portrait"===b.orientation?i.a.rotateZ(t,e,-1*Math.PI/2):i.a.copy(t,e),n.setPreTransformMatrix(BABYLON.Matrix.FromArray(t)),o(1,c=!0)}else o(1,c=!1)});var d=(e,t,r,a)=>{null!=e&&("portrait"===a?(e.setSize(r,t),e.resize()):(e.setSize(t,r),e.resize()))};d(r,b.size.videoWidth,b.size.videoHeight,b.orientation),b.resized.watch(()=>{d(r,b.size.offsetWidth,b.size.offsetHeight,b.orientation)}),b.render.watch(e=>{if("true"===s&&c&&null!=t){for(var r in v.objects)v.objects[r].custom.animation&&v.objects[r].custom.animation.tick(e);t.render()}}),b.setup.watch(e=>{null!=a&&(a.freezeProjectionMatrix(BABYLON.Matrix.FromArray(e)),console.log("Camera projection set: "+e))}),console.log("Scene created")}),e()})))})});var{$$slots:p={},$$scope:h}=t;return e.$set=e=>{"visible"in e&&o(1,c=e.visible),"enabled"in e&&o(2,s=e.enabled),"createScene"in e&&o(3,l=e.createScene),"createEngine"in e&&o(4,d=e.createEngine),"$$scope"in e&&o(5,h=e.$$scope)},e.$$.update=()=>{514&e.$$.dirty&&null!=m&&m(c)},[j,c,s,l,d,h,p,function(e){a.d[e?"unshift":"push"](()=>{o(0,j=e)})}]}class s extends a.a{constructor(e){super(),Object(a.m)(this,e,c,o,a.r,{visible:1,enabled:2,createScene:3,createEngine:4})}}var l=s,d=r(4);r(102);function b(e){var t,r,n,i,o=e[9].default,c=Object(a.g)(o,e,e[8],null),s=e[1]&&function(e){var t;return{c(){(t=Object(a.j)("div")).textContent="".concat(e[1])},m(e,r){Object(a.n)(e,t,r)},p:a.p,d(e){e&&Object(a.i)(t)}}}(e);return{c(){t=Object(a.j)("div"),c&&c.c(),r=Object(a.u)(),n=Object(a.j)("div"),s&&s.c(),Object(a.c)(t,"class","gl"),Object(a.c)(n,"id","debuginfo"),Object(a.c)(n,"class","svelte-199l4wg")},m(o,l){Object(a.n)(o,t,l),c&&c.m(t,null),e[10](t),Object(a.n)(o,r,l),Object(a.n)(o,n,l),s&&s.m(n,null),i=!0},p(e,t){var[r]=t;c&&c.p&&256&r&&Object(a.y)(c,o,e,e[8],r,null,null),e[1]&&s.p(e,r)},i(e){i||(Object(a.w)(c,e),i=!0)},o(e){Object(a.x)(c,e),i=!1},d(i){i&&Object(a.i)(t),c&&c.d(i),e[10](null),i&&Object(a.i)(r),i&&Object(a.i)(n),s&&s.d()}}}function u(e,t,r){var{enabled:o="true"}=t,{visible:c="true"}=t,{directUpdate:s="false"}=t,{scale:l="1"}=t,{createScene:b=null}=t,{createEngine:u=null}=t,v=Object(n.a)("ar"),j=Object(n.a)("marker"),m={scene:null,objects:[]};Object(n.c)("gl",m);var p,h=null;document.getElementById("glcanvas");Object(n.b)(()=>{var e=(null!=u?u:e=>{var t=document.createElement("canvas");t.addEventListener("touchmove",e=>{e.preventDefault()},!1),e.appendChild(t);var r=new d.WebGLRenderer({canvas:t,alpha:!0});return r.autoClear=!1,r})(p);(null!=b?b:()=>new Promise((function(e,t){var r=new d.Scene,a=new d.Camera;a.matrixAutoUpdate=!1,a.position.set(0,0,0),a.updateMatrix(),r.add(a);var n=new d.PointLight(16777215);n.position.set(400,500,100),r.add(n);var i=new d.PointLight(16777215);i.position.set(-400,-500,-100),r.add(i);var o=new d.Group;o.matrixAutoUpdate=!1;var c=new d.Mesh(new d.BoxGeometry(1,1,1),new d.MeshLambertMaterial({color:16777215,wireframe:!1,opacity:.5,transparent:!0}));return o.add(c),r.add(o),console.log(r),e([r,a,o])})))(e,p).then(t=>{var[a,n,d]=t;for(var b in m.scene=a,r(12,h=t=>{d.visible="true"===o&&"true"===t,e.clear&&e.clear(),e.render(a,n)}),j.watch(e=>{if(e){var t=i.a.create();if("portrait"===m.orientation?i.a.rotateZ(t,e,-1*Math.PI/2):i.a.copy(t,e),"true"===s)d.matrix.fromArray(t);else{var a=i.a.getTranslation(i.c.create(),t),n=i.a.getRotation(i.b.create(),t);d.quaternion.fromArray(n),d.position.fromArray(a),d.scale.set(l,l,l),d.updateMatrix(),d.updateWorldMatrix(!1,!0)}r(2,c="true")}else r(2,c="false")}),m.objects)d.add(m.objects[b]);v.setup.watch(e=>{null!=n&&(n.projectionMatrix.fromArray(e),console.log("Camera projection set: "+e))});var u=(e,t,r,a)=>{null!=e&&("portrait"===a?e.setSize(r,t):e.setSize(t,r))};u(e,v.size.offsetWidth,v.size.offsetHeight,v.orientation),v.resized.watch(()=>{u(e,v.size.offsetWidth,v.size.offsetHeight,v.orientation)}),v.render.watch(t=>{if("true"===o&&a&&"true"===c){for(var r in e.clear&&e.clear(),m.objects)m.objects[r].custom.animation&&m.objects[r].custom.animation.tick(t);e.render(a,n)}}),console.log("Scene created")})});var{$$slots:f={},$$scope:O}=t;return e.$set=e=>{"enabled"in e&&r(3,o=e.enabled),"visible"in e&&r(2,c=e.visible),"directUpdate"in e&&r(4,s=e.directUpdate),"scale"in e&&r(5,l=e.scale),"createScene"in e&&r(6,b=e.createScene),"createEngine"in e&&r(7,u=e.createEngine),"$$scope"in e&&r(8,O=e.$$scope)},e.$$.update=()=>{4100&e.$$.dirty&&null!=h&&h(c)},[p,void 0,c,o,s,l,b,u,O,f,function(e){a.d[e?"unshift":"push"](()=>{r(0,p=e)})}]}class v extends a.a{constructor(e){super(),Object(a.m)(this,e,u,b,a.r,{enabled:3,visible:2,directUpdate:4,scale:5,createScene:6,createEngine:7})}}var j=v;r(103);function m(e){var t,r,n,i,o=e[6].default,c=Object(a.g)(o,e,e[5],null);return{c(){t=Object(a.j)("div"),r=Object(a.j)("canvas"),n=Object(a.u)(),c&&c.c(),Object(a.c)(r,"id",e[0]),Object(a.c)(r,"class","svelte-w5yx4k"),Object(a.c)(t,"class","gl"),Object(a.c)(t,"id","container")},m(o,s){Object(a.n)(o,t,s),Object(a.b)(t,r),Object(a.b)(t,n),c&&c.m(t,null),e[7](t),i=!0},p(e,t){var[n]=t;(!i||1&n)&&Object(a.c)(r,"id",e[0]),c&&c.p&&32&n&&Object(a.y)(c,o,e,e[5],n,null,null)},i(e){i||(Object(a.w)(c,e),i=!0)},o(e){Object(a.x)(c,e),i=!1},d(r){r&&Object(a.i)(t),c&&c.d(r),e[7](null)}}}function p(e,t,o){var c,{visible:s=!1}=t,{enabled:l=!1}=t,{patchRoot:d="/js/cables/Lsystem"}=t,{id:b="cablescanvas"}=t,u=Object(n.a)("ar"),v=Object(n.a)("marker"),j={scene:null,objects:[]};Object(n.c)("gl",j);var m=null;Object(n.b)(()=>{r(36)(d+"/js/patch.js",()=>{CABLES.patch=new CABLES.Patch({patch:CABLES.exportedPatch,prefixAssetPath:"",glCanvasId:b,onError:alert,glCanvasResizeToParent:!0,canvas:{alpha:!0,premultipliedAlpha:!0}}),o(8,m=e=>{}),v.watch(e=>{if(e){var t=i.a.create();"portrait"===j.orientation?i.a.rotateZ(t,e,-1*Math.PI/2):i.a.copy(t,e);var r=i.a.getTranslation(vec3.create(),t),a=i.a.getRotation(quat.create(),t);i.a.getScaling(vec3.create(),t);patch.setVariable("posX",r[0]),patch.setVariable("posY",r[1]),patch.setVariable("posZ",r[2]),patch.setVariable("rotX",a[0]),patch.setVariable("rotY",a[1]),patch.setVariable("rotZ",a[2]),o(2,s="true")}else o(2,s="false")});var e=(e,t,r)=>{o(1,c.style.width=e,c),o(1,c.style.height=t,c)};e(u.size.videoWidth,u.size.videoHeight,u.orientation),u.resized.watch(()=>{e(u.size.offsetWidth,u.size.offsetHeight,u.orientation)})})});var{$$slots:p={},$$scope:h}=t;return e.$set=e=>{"visible"in e&&o(2,s=e.visible),"enabled"in e&&o(3,l=e.enabled),"patchRoot"in e&&o(4,d=e.patchRoot),"id"in e&&o(0,b=e.id),"$$scope"in e&&o(5,h=e.$$scope)},e.$$.update=()=>{260&e.$$.dirty&&null!=m&&m(s)},[b,c,s,l,d,h,p,function(e){a.d[e?"unshift":"push"](()=>{o(1,c=e)})}]}class h extends a.a{constructor(e){super(),Object(a.m)(this,e,p,m,a.r,{visible:2,enabled:3,patchRoot:4,id:0})}}var f=h,O=r(14);a.a;r(108);a.a;r(109);a.a;var g=r(6);r(110);function y(e){var t;return{c(){(t=Object(a.j)("div")).innerHTML='<div class="px-6 py-4"><p class="text-gray-500 text-base">Наведите камеру на маркер</p></div>',Object(a.c)(t,"id","markerWarning"),Object(a.c)(t,"class","max-w-sm rounded overflow-hidden shadow-lg bg-cover svelte-1xatyo3")},m(e,r){Object(a.n)(e,t,r)},d(e){e&&Object(a.i)(t)}}}function w(e){var t,r,n,i,o,c,s,l,d,b,u,v,j,m,p,h,f,O,g,y=e[5].size.videoWidth+"",w=e[5].size.videoHeight+"",$=e[5].size.offsetWidth+"",L=e[5].size.offsetHeight+"",M=e[5].orientation+"",S=""!=e[4]&&x(e),C=""!=k&&{c(){(g=Object(a.j)("div")).textContent="Error: ".concat(k)},m(e,t){Object(a.n)(e,g,t)},p:a.p,d(e){e&&Object(a.i)(g)}};return{c(){t=Object(a.j)("div"),r=Object(a.j)("div"),n=Object(a.v)("Video size: "),i=Object(a.v)(y),o=Object(a.v)(", "),c=Object(a.v)(w),s=Object(a.u)(),l=Object(a.j)("div"),d=Object(a.v)("Video offset: "),b=Object(a.v)($),u=Object(a.v)(", "),v=Object(a.v)(L),j=Object(a.u)(),m=Object(a.j)("div"),p=Object(a.v)("Orientation: "),h=Object(a.v)(M),f=Object(a.u)(),S&&S.c(),O=Object(a.u)(),C&&C.c(),Object(a.c)(t,"id","debuginfo"),Object(a.c)(t,"class","svelte-1xatyo3")},m(e,g){Object(a.n)(e,t,g),Object(a.b)(t,r),Object(a.b)(r,n),Object(a.b)(r,i),Object(a.b)(r,o),Object(a.b)(r,c),Object(a.b)(t,s),Object(a.b)(t,l),Object(a.b)(l,d),Object(a.b)(l,b),Object(a.b)(l,u),Object(a.b)(l,v),Object(a.b)(t,j),Object(a.b)(t,m),Object(a.b)(m,p),Object(a.b)(m,h),Object(a.b)(t,f),S&&S.m(t,null),Object(a.b)(t,O),C&&C.m(t,null)},p(e,r){32&r&&y!==(y=e[5].size.videoWidth+"")&&Object(a.t)(i,y),32&r&&w!==(w=e[5].size.videoHeight+"")&&Object(a.t)(c,w),32&r&&$!==($=e[5].size.offsetWidth+"")&&Object(a.t)(b,$),32&r&&L!==(L=e[5].size.offsetHeight+"")&&Object(a.t)(v,L),32&r&&M!==(M=e[5].orientation+"")&&Object(a.t)(h,M),""!=e[4]?S?S.p(e,r):((S=x(e)).c(),S.m(t,O)):S&&(S.d(1),S=null),""!=k&&C.p(e,r)},d(e){e&&Object(a.i)(t),S&&S.d(),C&&C.d()}}}function x(e){var t,r,n;return{c(){t=Object(a.j)("div"),r=Object(a.v)("Msg: "),n=Object(a.v)(e[4])},m(e,i){Object(a.n)(e,t,i),Object(a.b)(t,r),Object(a.b)(t,n)},p(e,t){16&t&&Object(a.t)(n,e[4])},d(e){e&&Object(a.i)(t)}}}function $(e){var t,r,n,i,o,c,s,l,d=e[17].default,b=Object(a.g)(d,e,e[16],null),u=e[6]&&y(),v=("true"===e[0]||!0===e[0])&&w(e);return{c(){t=Object(a.j)("div"),r=Object(a.j)("video"),n=Object(a.u)(),i=Object(a.j)("div"),b&&b.c(),o=Object(a.u)(),u&&u.c(),c=Object(a.u)(),v&&v.c(),s=Object(a.k)(),Object(a.c)(r,"id","videocanvas"),r.controls="",r.autoplay="true",r.muted="true",r.loop="true",r.playsInline="true",Object(a.c)(r,"class","svelte-1xatyo3"),Object(a.c)(i,"id","markercontainer"),Object(a.c)(i,"class","svelte-1xatyo3"),Object(a.c)(t,"class","videoContainer svelte-1xatyo3")},m(d,j){Object(a.n)(d,t,j),Object(a.b)(t,r),e[18](r),Object(a.b)(t,n),Object(a.b)(t,i),b&&b.m(i,null),e[19](i),e[20](t),Object(a.n)(d,o,j),u&&u.m(d,j),Object(a.n)(d,c,j),v&&v.m(d,j),Object(a.n)(d,s,j),l=!0},p(e,t){var[r]=t;b&&b.p&&65536&r&&Object(a.y)(b,d,e,e[16],r,null,null),e[6]?u||((u=y()).c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null),"true"===e[0]||!0===e[0]?v?v.p(e,r):((v=w(e)).c(),v.m(s.parentNode,s)):v&&(v.d(1),v=null)},i(e){l||(Object(a.w)(b,e),l=!0)},o(e){Object(a.x)(b,e),l=!1},d(r){r&&Object(a.i)(t),e[18](null),b&&b.d(r),e[19](null),e[20](null),r&&Object(a.i)(o),u&&u.d(r),r&&Object(a.i)(c),v&&v.d(r),r&&Object(a.i)(s)}}}var k="";function L(e,t,i){var o,c,s,l,{smoothingEnabled:d=!1}=t,{thresholdMode:b=4}=t,{threshold:u=160}=t,{debug:v=!1}=t,{debug_info:j=!0}=t,{maxARVideoSize:m=640}=t,{markerLossDelay:p=200}=t,{pattRatio:h=.9}=t,f=Object(g.c)(!0);Object(a.e)(e,f,e=>i(6,o=e));var O=Object(g.a)(f,{show:(e,t)=>t}),y=Object(g.c)(0),w=Object(g.a)(y,{inc:e=>(O.show(!1),console.log("Marker count: ",e+1),e+1),dec:e=>(console.log("Marker count: ",e-1),1===e&&O.show(!0),e-1)}),x="",$=[],k={size:{videoWidth:null,videoHeight:null,offsetWidth:320,offsetHeight:240,marginLeft:0,marginTop:0},orientation:null,cameramat:null,marker:{visible:!1,mat:null},setup:Object(g.b)(),resized:Object(g.b)(),render:Object(g.b)(),markerFound:Object(g.b)(),markerLost:Object(g.b)(),loadPattern:(e,t)=>{$.push([e,t])},visibleMarkers:w};Object(n.c)("ar",k);var L=p,M=!1;Object(n.b)(()=>new Promise((function(e,t){var a=r(36);return a(v?["/js/artoolkit/artoolkit.api.js","/js/artoolkit/artoolkit.debug.js"]:["/js/artoolkit/artoolkit_wasm.js"],"bundle"),a.ready("bundle",()=>new Promise((function(e,t){var r=new ARCameraParam;return r.onload=()=>new Promise((function(e,t){if(M)return e();if(M=!0,void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.enumerateDevices||void 0===navigator.mediaDevices.getUserMedia){var a="";void 0===navigator.mediaDevices?a="navigator.mediaDevices":void 0===navigator.mediaDevices.enumerateDevices?a="navigator.mediaDevices.enumerateDevices":void 0===navigator.mediaDevices.getUserMedia?a="navigator.mediaDevices.getUserMedia":console.assert(!1),onError({name:"",message:"WebRTC issue-! "+a+" not present in your browser"})}var n=null;return s.addEventListener("canplay",e=>new Promise((function(t,a){var o=e.target,c=e=>{if(i(3,l.style.top=e.top,l),i(3,l.style.left=e.left,l),i(5,k.size.videoWidth=e.videoWidth,k),i(5,k.size.videoHeight=e.videoHeight,k),i(5,k.size.offsetWidth=e.offsetWidth,k),i(5,k.size.offsetHeight=e.offsetHeight,k),window.innerWidth<window.innerHeight?(i(5,k.orientation="portrait",k),i(3,l.style.width=e.offsetHeight+"px",l),i(3,l.style.height=e.offsetWidth+"px",l),i(3,l.style.transform="rotate(-90deg) translateX(-100%)",l)):(i(5,k.orientation="landscape",k),i(3,l.style.width=e.offsetWidth+"px",l),i(3,l.style.height=e.offsetHeight+"px",l),i(3,l.style.transform="",l)),null!=n){var[t,r]="landscape"===k.orientation?[o.videoWidth,o.videoHeight]:[o.videoHeight,o.videoWidth];n.orientation=k.orientation,n.videoWidth=t,n.videoHeight=r,k.setup(n.getCameraMatrix())}i(4,x="resized"),k.resized()};new ResizeObserver(()=>{null!=k&&null!=o&&(null==n&&(n=function(e,t){var r=e=>new Promise((function(t,r){return"true"===v&&(console.log("Detected marker with ids:",e.data.marker.id,e.data.marker.idPatt,e.data.marker.idMatrix),console.log("Marker data",e.data.marker),console.log("Marker transform matrix:",[].join.call(e.data.matrix,", "))),k.markerFound({canvas:e.target.canvas,data:e.data}),t()})),a=(m||Math.max(e.videoWidth,e.videoHeight))/Math.max(e.videoWidth,e.videoHeight),n=v?e.videoWidth:a*e.videoWidth,o=v?e.videoHeight:a*e.videoHeight;!v&&e.videoWidth<e.videoHeight&&([o,n]=[n,o]);var c=new ARController(n,o,t);return c.onload=()=>new Promise((function(t,a){return!0,console.log("arctrl loaded"),i(4,x="arctrl loaded"),c.setPatternDetectionMode(artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX),c.setMatrixCodeType(artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5),c.setPattRatio(h),c.setThresholdMode(b),c.setThreshold(u),c.ctx.mozImageSmoothingEnabled=d,c.ctx.webkitImageSmoothingEnabled=d,c.ctx.msImageSmoothingEnabled=d,c.ctx.imageSmoothingEnabled=d,c.image=e,i(4,x="arctrl video assigned"),k.setup(c.getCameraMatrix()),i(4,x="arctrl camera matrix set"),i(5,k.loadPattern=(e,t)=>c.loadMarker(e,e=>new Promise((function(r,a){return console.log("Marker loaded, id:",e),t(e),r()}))),k),$.forEach(e=>{var[t,r]=e;k.loadPattern(t,r)}),i(4,x="arctrl camera markers set"),c.addEventListener("getMarker",r),i(4,x="arctrl loop started"),"true"!==v&&!0!==v||(i(8,v=!1),c.debugSetup()),t()})),c}(o,r)),c(o))}).observe(o),c(o);var s=()=>new Promise((function(e,t){return requestAnimationFrame(s),null==n||(n.process(o),n.getMarkerNum()>0?L=p:(0===L&&k.markerLost(),L--),k.render()),e()}));return s(),o.play(),t()}))),navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then(e=>{console.log("Got camera object"),i(2,s.srcObject=e,s)},e=>{console.error("Error: "+e),i(2,s.src="/assets/Output_4-1.webm",s)}),console.log("artoolkit loaded"),e()})),r.load("/assets/camera_para.dat"),e()}))),e()})));var{$$slots:S={},$$scope:C}=t;return e.$set=e=>{"smoothingEnabled"in e&&i(9,d=e.smoothingEnabled),"thresholdMode"in e&&i(10,b=e.thresholdMode),"threshold"in e&&i(11,u=e.threshold),"debug"in e&&i(8,v=e.debug),"debug_info"in e&&i(0,j=e.debug_info),"maxARVideoSize"in e&&i(12,m=e.maxARVideoSize),"markerLossDelay"in e&&i(13,p=e.markerLossDelay),"pattRatio"in e&&i(14,h=e.pattRatio),"$$scope"in e&&i(16,C=e.$$scope)},[j,c,s,l,x,k,o,f,v,d,b,u,m,p,h,"/js/artoolkit/artoolkit_wasm.wasm",C,S,function(e){a.d[e?"unshift":"push"](()=>{i(2,s=e)})},function(e){a.d[e?"unshift":"push"](()=>{i(3,l=e)})},function(e){a.d[e?"unshift":"push"](()=>{i(1,c=e)})}]}class M extends a.a{constructor(e){super(),Object(a.m)(this,e,L,$,a.r,{smoothingEnabled:9,thresholdMode:10,threshold:11,debug:8,debug_info:0,maxARVideoSize:12,markerLossDelay:13,pattRatio:14,artoolkit_wasm_url:15})}get artoolkit_wasm_url(){return this.$$.ctx[15]}}var S=M;class C{constructor(e,t,r){this.visible=!1,this.markerLostCountdown=r,this.update=Object(g.b)(),this.marker=Object(g.c)(i.a),this.marker.on(this.update,(t,r)=>(null!==r?this.visible||(e.visibleMarkers.inc(),this.visible=!0):this.visible&&(this.visible=!1,e.visibleMarkers.dec()),r)),void 0===t?e.markerFound.watch(e=>{this.update(e.data.matrixGL_RH)}):e.markerFound.watch(e=>{t(e)?(this.update(e.data.matrixGL_RH),this.markerLostCountdown=r):(0===this.markerLostCountdown&&this.update(null),this.markerLostCountdown--)}),e.markerLost.watch(()=>{this.update(null)})}watch(e){this.marker.watch(e)}}function E(e){var t,r,n=e[3].default,i=Object(a.g)(n,e,e[2],null);return{c(){t=Object(a.j)("div"),i&&i.c(),Object(a.c)(t,"class","marker")},m(e,n){Object(a.n)(e,t,n),i&&i.m(t,null),r=!0},p(e,t){var[r]=t;i&&i.p&&4&r&&Object(a.y)(i,n,e,e[2],r,null,null)},i(e){r||(Object(a.w)(i,e),r=!0)},o(e){Object(a.x)(i,e),r=!1},d(e){e&&Object(a.i)(t),i&&i.d(e)}}}function A(e,t,r){var{pattern:a="assets/hiro.patt"}=t,{markerLossDelay:i=10}=t,o=Object(n.a)("ar"),c=-1;o.loadPattern(a,e=>{c=e});var s=new C(o,e=>c>=0&&e.data.marker.idPatt===c,i);Object(n.c)("marker",s);var{$$slots:l={},$$scope:d}=t;return e.$set=e=>{"pattern"in e&&r(0,a=e.pattern),"markerLossDelay"in e&&r(1,i=e.markerLossDelay),"$$scope"in e&&r(2,d=e.$$scope)},[a,i,d,l]}class P extends a.a{constructor(e){super(),Object(a.m)(this,e,A,E,a.r,{pattern:0,markerLossDelay:1})}}var z=P;r(111);function W(e){var t,r,n,i,o,c,s,d;return t=new j({props:{directUpdate:"false",scale:"0.005",createEngine:e[3],createScene:e[5]}}),n=new l({props:{createScene:e[4],enabled:"true"}}),o=new j({}),s=new f({}),{c(){Object(a.f)(t.$$.fragment),r=Object(a.u)(),Object(a.f)(n.$$.fragment),i=Object(a.u)(),Object(a.f)(o.$$.fragment),c=Object(a.u)(),Object(a.f)(s.$$.fragment)},m(e,l){Object(a.o)(t,e,l),Object(a.n)(e,r,l),Object(a.o)(n,e,l),Object(a.n)(e,i,l),Object(a.o)(o,e,l),Object(a.n)(e,c,l),Object(a.o)(s,e,l),d=!0},p(e,r){var a={};4096&r&&(a.$$scope={dirty:r,ctx:e}),t.$set(a)},i(e){d||(Object(a.w)(t.$$.fragment,e),Object(a.w)(n.$$.fragment,e),Object(a.w)(o.$$.fragment,e),Object(a.w)(s.$$.fragment,e),d=!0)},o(e){Object(a.x)(t.$$.fragment,e),Object(a.x)(n.$$.fragment,e),Object(a.x)(o.$$.fragment,e),Object(a.x)(s.$$.fragment,e),d=!1},d(e){Object(a.h)(t,e),e&&Object(a.i)(r),Object(a.h)(n,e),e&&Object(a.i)(i),Object(a.h)(o,e),e&&Object(a.i)(c),Object(a.h)(s,e)}}}function B(e){var t,r;return t=new z({props:{pattern:"/assets/pattern-qr-marker.patt",$$slots:{default:[W]},$$scope:{ctx:e}}}),{c(){Object(a.f)(t.$$.fragment)},m(e,n){Object(a.o)(t,e,n),r=!0},p(e,r){var a={};4096&r&&(a.$$scope={dirty:r,ctx:e}),t.$set(a)},i(e){r||(Object(a.w)(t.$$.fragment,e),r=!0)},o(e){Object(a.x)(t.$$.fragment,e),r=!1},d(e){Object(a.h)(t,e)}}}function R(e){var t,r,n,i,o,c,s,l,d,b;return r=new S({props:{$$slots:{default:[B]},$$scope:{ctx:e}}}),{c(){t=Object(a.j)("main"),Object(a.f)(r.$$.fragment),n=Object(a.u)(),i=Object(a.j)("div"),(o=Object(a.j)("div")).innerHTML='<div class="h-48 lg:h-auto lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden" style="background-image: url(&#39;/assets/img/card-left.jpg&#39;)" title="Woman holding a mug"></div> \n        <div class="border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-transparent rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal"><div class="mb-8"><p class="text-sm text-gray-600 flex items-center"><svg class="fill-current text-gray-500 w-3 h-3 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"></path></svg>\n                    Members only\n                </p> \n                <div class="text-gray-900 font-bold text-xl mb-2">Can coffee make you a better developer?</div> \n                <p class="text-gray-700 text-base">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus quia, nulla! Maiores et perferendis eaque, exercitationem praesentium nihil.</p></div> \n            <div class="flex items-center"><img class="w-10 h-10 rounded-full mr-4" src="/assets/img/jonathan.jpg" alt="Avatar of Jonathan Reinink"> \n                <div class="text-sm"><p class="text-gray-900 leading-none">Jonathan Reinink</p> \n                    <p class="text-gray-600">Aug 18</p></div></div></div>',c=Object(a.u)(),s=Object(a.j)("div"),l=Object(a.j)("address"),(d=Object(a.j)("a")).textContent="Позвони мне",Object(a.c)(o,"class","max-w-sm w-full lg:max-w-full lg:flex"),Object(a.c)(d,"href","tel:123-456-7890"),Object(a.c)(s,"id","tel"),Object(a.c)(s,"class","bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded"),Object(a.c)(i,"class","card")},m(u,v){Object(a.n)(u,t,v),Object(a.o)(r,t,null),e[7](t),Object(a.n)(u,n,v),Object(a.n)(u,i,v),Object(a.b)(i,o),Object(a.b)(i,c),Object(a.b)(i,s),Object(a.b)(s,l),Object(a.b)(l,d),e[8](d),e[9](i),b=!0},p(e,t){var[a]=t,n={};4096&a&&(n.$$scope={dirty:a,ctx:e}),r.$set(n)},i(e){b||(Object(a.w)(r.$$.fragment,e),b=!0)},o(e){Object(a.x)(r.$$.fragment,e),b=!1},d(o){o&&Object(a.i)(t),Object(a.h)(r),e[7](null),o&&Object(a.i)(n),o&&Object(a.i)(i),e[8](null),e[9](null)}}}function _(e,t,i){var o,c,s,l=document.documentElement;l.classList.add("text-gray-900"),l.classList.add("antialiased"),l.classList.add("leading-tight");var{SCENE_SCALE:d=.1}=t;return Object(n.b)(()=>new Promise((function(e,t){return e()}))),e.$set=e=>{"SCENE_SCALE"in e&&i(6,d=e.SCENE_SCALE)},[o,c,s,e=>{var t=new O.CSS3DRenderer;return e.appendChild(t.domElement),t},e=>new Promise((function(t,r){var a,n,i,o;return Promise.resolve(BABYLON.SceneLoader.LoadAsync("","https://digitalrats.ru/assets/babylonJS_logo_v3.babylon",e)).then((function(c){try{return(a=c).clearColor=new BABYLON.Color4(0,0,0,0),(n=new BABYLON.Camera("camera1",new BABYLON.Vector3.Zero,a)).attachControl(e.getRenderingCanvas(),!0),i=[a.rootNodes[0],a.rootNodes[1]],o=new BABYLON.TransformNode("markerRoot"),i[0].parent=o,i[1].parent=o,t([a,n,o])}catch(e){return r(e)}}),r)})),e=>new Promise((function(e,t){var a=r(4),n=r(14),i=new a.Scene,o=new a.PerspectiveCamera;o.matrixAutoUpdate=!1,o.position.set(0,0,0),o.updateMatrix(),i.add(o);var s=new a.PointLight(16777215);s.position.set(400,500,100),i.add(s);var l=new a.PointLight(16777215);l.position.set(-400,-500,-100),i.add(l);var b=new n.CSS3DObject(c);return b.matrixAutoUpdate=!1,i.add(b),i.scale.set(d,d,d),e([i,o,b])})),d,function(e){a.d[e?"unshift":"push"](()=>{i(0,o=e)})},function(e){a.d[e?"unshift":"push"](()=>{i(2,s=e)})},function(e){a.d[e?"unshift":"push"](()=>{i(1,c=e)})}]}class H extends a.a{constructor(e){super(),Object(a.m)(this,e,_,R,a.r,{SCENE_SCALE:6})}}var N=new H({target:document.body,props:{name:"world"}});window.app=N;t.default=N},14:function(e,t,r){"use strict";r.r(t),r.d(t,"CSS3DObject",(function(){return n})),r.d(t,"CSS3DSprite",(function(){return i})),r.d(t,"CSS3DRenderer",(function(){return o}));r(7),r(104),r(106),r(9);var a=r(4),n=function(e){a.Object3D.call(this),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.custom={animation:void 0},this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))};n.prototype=Object.create(a.Object3D.prototype),n.prototype.constructor=n;var i=function(e){n.call(this,e)};i.prototype=Object.create(n.prototype),i.prototype.constructor=i;var o=function(){var e,t,r,o,c=this,s=new a.Matrix4,l={camera:{fov:0,style:""},objects:new WeakMap},d=document.createElement("div");d.style.overflow="hidden",this.domElement=d;var b=document.createElement("div");b.style.WebkitTransformStyle="preserve-3d",b.style.transformStyle="preserve-3d",b.style.pointerEvents="none",d.appendChild(b);var u=/Trident/i.test(navigator.userAgent);function v(e){return Math.abs(e)<1e-10?0:e}function j(e){var t=e.elements;return"matrix3d("+v(t[0])+","+v(-t[1])+","+v(t[2])+","+v(t[3])+","+v(t[4])+","+v(-t[5])+","+v(t[6])+","+v(t[7])+","+v(t[8])+","+v(-t[9])+","+v(t[10])+","+v(t[11])+","+v(t[12])+","+v(-t[13])+","+v(t[14])+","+v(t[15])+")"}function m(e,t){var a=e.elements,n="matrix3d("+v(a[0])+","+v(a[1])+","+v(a[2])+","+v(a[3])+","+v(-a[4])+","+v(-a[5])+","+v(-a[6])+","+v(-a[7])+","+v(a[8])+","+v(a[9])+","+v(a[10])+","+v(a[11])+","+v(a[12])+","+v(a[13])+","+v(a[14])+","+v(a[15])+")";return u?"translate(-50%,-50%)translate("+r+"px,"+o+"px)"+t+n:"translate(-50%,-50%)"+n}this.getSize=function(){return{width:e,height:t}},this.setSize=function(a,n){r=(e=a)/2,o=(t=n)/2,d.style.width=a+"px",d.style.height=n+"px",b.style.width=a+"px",b.style.height=n+"px"};var p,h,f=(p=new a.Vector3,h=new a.Vector3,function(e,t){return p.setFromMatrixPosition(e.matrixWorld),h.setFromMatrixPosition(t.matrixWorld),p.distanceToSquared(h)});function O(e){for(var t=function(e){var t=[];return e.traverse((function(e){e instanceof n&&t.push(e)})),t}(e).sort((function(e,t){return l.objects.get(e).distanceToCameraSquared-l.objects.get(t).distanceToCameraSquared})),r=t.length,a=0,i=t.length;a<i;a++)t[a].element.style.zIndex=r-a}this.render=function(e,t){var a=t.projectionMatrix.elements[5]*o;if(l.camera.fov!==a&&(t.isPerspectiveCamera?(d.style.WebkitPerspective=a+"px",d.style.perspective=a+"px"):(d.style.WebkitPerspective="",d.style.perspective=""),l.camera.fov=a),!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.isOrthographicCamera)var p=-(t.right+t.left)/2,h=(t.top+t.bottom)/2;var g=t.isOrthographicCamera?"scale("+a+")translate("+v(p)+"px,"+v(h)+"px)"+j(t.matrixWorldInverse):"translateZ("+a+"px)"+j(t.matrixWorldInverse),y=g+"translate("+r+"px,"+o+"px)";l.camera.style===y||u||(b.style.WebkitTransform=y,b.style.transform=y,l.camera.style=y),function e(t,r,a,o){if(t instanceof n){var d;t.onBeforeRender(c,r,a),t instanceof i?(s.copy(a.matrixWorldInverse),s.transpose(),s.copyPosition(t.matrixWorld),s.scale(t.scale),s.elements[3]=0,s.elements[7]=0,s.elements[11]=0,s.elements[15]=1,d=m(s,o)):d=m(t.matrixWorld,o);var v=t.element,j=l.objects.get(t);if(void 0===j||j.style!==d){v.style.WebkitTransform=d,v.style.transform=d;var p={style:d};u&&(p.distanceToCameraSquared=f(a,t)),l.objects.set(t,p)}v.style.display=t.visible?"":"none",v.parentNode!==b&&b.appendChild(v),t.onAfterRender(c,r,a)}for(var h=0,O=t.children.length;h<O;h++)e(t.children[h],r,a,o)}(e,e,t,g),u&&O(e)}}},62:function(e,t,r){e.exports=r(112)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JhYnlsb25KU1JlbmRlcmVyLnN2ZWx0ZSIsIndlYnBhY2s6Ly8vLi9zcmMvVGhyZWVKU1JlbmRlcmVyLnN2ZWx0ZSIsIndlYnBhY2s6Ly8vLi9zcmMvQ2FibGVzUmVuZGVyZXIuc3ZlbHRlIiwid2VicGFjazovLy8uL3NyYy9BUkNvbnRleHQuc3ZlbHRlIiwid2VicGFjazovLy8uL3NyYy9tYXJrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FSTWFya2VyUGF0dGVybi5zdmVsdGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC5zdmVsdGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NTUzNEUmVuZGVyZXIuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJ2aXNpYmxlIiwiZW5hYmxlZCIsImNyZWF0ZVNjZW5lIiwiY3JlYXRlRW5naW5lIiwiYXIiLCJtYXJrZXIiLCJjb250ZXh0Iiwic2NlbmUiLCJvYmplY3RzIiwiY29udGFpbmVyIiwibWFya2VyUm9vdFZpc2libGVBY3Rpb24iLCJfc2NyaXB0XyIsInJlYWR5IiwiZW5naW5lIiwiY250IiwiY252IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFwcGVuZENoaWxkIiwiQkFCWUxPTiIsIkVuZ2luZSIsIlNjZW5lIiwidXNlUmlnaHRIYW5kZWRTeXN0ZW0iLCJjbGVhckNvbG9yIiwiQ29sb3I0IiwiY2FtZXJhIiwiQ2FtZXJhIiwiVmVjdG9yMyIsIlplcm8iLCJhdHRhY2hDb250cm9sIiwiZ2V0UmVuZGVyaW5nQ2FudmFzIiwiSGVtaXNwaGVyaWNMaWdodCIsIlBvaW50TGlnaHQiLCJib3giLCJNZXNoQnVpbGRlciIsIkNyZWF0ZUJveCIsIndpZHRoIiwiaGVpZ2h0Iiwic2l6ZSIsIm1hcmtlclJvb3QiLCJUcmFuc2Zvcm1Ob2RlIiwicGFyZW50IiwidGhlbiIsInNldEVuYWJsZWQiLCJyZW5kZXIiLCJ3YXRjaCIsIm1hdCIsIm1hdF8iLCJvcmllbnRhdGlvbiIsInJvdGF0ZVoiLCJNYXRoIiwiUEkiLCJjb3B5Iiwic2V0UHJlVHJhbnNmb3JtTWF0cml4IiwiTWF0cml4IiwiRnJvbUFycmF5Iiwic2V0U2l6ZSIsInJlc2l6ZSIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsInJlc2l6ZWQiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImN1c3RvbSIsImFuaW1hdGlvbiIsInRpY2siLCJzZXR1cCIsImZyZWV6ZVByb2plY3Rpb25NYXRyaXgiLCJjb25zb2xlIiwibG9nIiwiZGlyZWN0VXBkYXRlIiwic2NhbGUiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhcyIsImFscGhhIiwiYXV0b0NsZWFyIiwibWF0cml4QXV0b1VwZGF0ZSIsInBvc2l0aW9uIiwic2V0IiwidXBkYXRlTWF0cml4IiwiYWRkIiwibGlnaHQxIiwibGlnaHQyIiwiY3ViZSIsImNvbG9yIiwid2lyZWZyYW1lIiwib3BhY2l0eSIsInRyYW5zcGFyZW50IiwiY2xlYXIiLCJtYXRyaXgiLCJmcm9tQXJyYXkiLCJ0cmFuc2xhdGlvbiIsImdldFRyYW5zbGF0aW9uIiwicm90YXRpb24iLCJnZXRSb3RhdGlvbiIsInF1YXRlcm5pb24iLCJ1cGRhdGVXb3JsZE1hdHJpeCIsInByb2plY3Rpb25NYXRyaXgiLCJwYXRjaFJvb3QiLCJpZCIsIkNBQkxFUyIsInBhdGNoIiwiUGF0Y2giLCJleHBvcnRlZFBhdGNoIiwicHJlZml4QXNzZXRQYXRoIiwiZ2xDYW52YXNJZCIsIm9uRXJyb3IiLCJhbGVydCIsImdsQ2FudmFzUmVzaXplVG9QYXJlbnQiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJ2ZWMzIiwicXVhdCIsImdldFNjYWxpbmciLCJzZXRWYXJpYWJsZSIsInN0eWxlIiwiZXJyIiwidmlkZW8iLCJtYXJrZXJjb250YWluZXIiLCJzbW9vdGhpbmdFbmFibGVkIiwidGhyZXNob2xkTW9kZSIsInRocmVzaG9sZCIsImRlYnVnIiwiZGVidWdfaW5mbyIsIm1heEFSVmlkZW9TaXplIiwibWFya2VyTG9zc0RlbGF5IiwicGF0dFJhdGlvIiwid2FybmluZ1Zpc2libGUiLCJtYXJrZXJXYXJuaW5nIiwic2hvdyIsInN0YXRlIiwidmlzaWJsZU1hcmtlcnNDb3VudCIsInZpc2libGVNYXJrZXJzQXBpIiwiaW5jIiwiZGVjIiwibWVzc2FnZSIsInBhdHRlcm5zIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImNhbWVyYW1hdCIsIm1hcmtlckZvdW5kIiwibWFya2VyTG9zdCIsImxvYWRQYXR0ZXJuIiwicGF0dCIsImxvYWRlZCIsInZpc2libGVNYXJrZXJzIiwibWFya2VyTG9zdENvdW50ZG93biIsImFyQ2FtZXJhUGFyYW1Mb2FkZWQiLCJhckNhbWVyYVBhcmFtIiwiQVJDYW1lcmFQYXJhbSIsIm9ubG9hZCIsInVuZGVmaW5lZCIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJmY3ROYW1lIiwiYXNzZXJ0IiwiYXJjdHJsIiwiZXZlbnQiLCJ0YXJnZXQiLCJyZXNpemVCeSIsImVsZW1lbnQiLCJ0b3AiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwidHJhbnNmb3JtIiwidyIsImgiLCJnZXRDYW1lcmFNYXRyaXgiLCJSZXNpemVPYnNlcnZlciIsInNvdXJjZSIsIm9uR2V0TWFya2VyIiwiZXYiLCJpZFBhdHQiLCJpZE1hdHJpeCIsImpvaW4iLCJmIiwibWF4IiwiY29udHJvbGxlciIsIkFSQ29udHJvbGxlciIsInNldFBhdHRlcm5EZXRlY3Rpb25Nb2RlIiwiYXJ0b29sa2l0IiwiQVJfVEVNUExBVEVfTUFUQ0hJTkdfTU9OT19BTkRfTUFUUklYIiwic2V0TWF0cml4Q29kZVR5cGUiLCJBUl9NQVRSSVhfQ09ERV80eDRfQkNIXzEzXzVfNSIsInNldFBhdHRSYXRpbyIsInNldFRocmVzaG9sZE1vZGUiLCJzZXRUaHJlc2hvbGQiLCJjdHgiLCJtb3pJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJ3ZWJraXRJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJtc0ltYWdlU21vb3RoaW5nRW5hYmxlZCIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImltYWdlIiwibG9hZE1hcmtlciIsIm1hcmtlcklkIiwiZm9yRWFjaCIsInBhdHRfcnEiLCJwYXR0ZXJuIiwiZGVidWdTZXR1cCIsImNyZWF0ZWN0cmwiLCJvYnNlcnZlIiwidGlja2VyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicHJvY2VzcyIsImdldE1hcmtlck51bSIsInBsYXkiLCJhdWRpbyIsImZhY2luZ01vZGUiLCJzdHJlYW0iLCJzcmNPYmplY3QiLCJlcnJvciIsInNyYyIsImxvYWQiLCJNYXJrZXIiLCJjb25zdHJ1Y3RvciIsInByZWQiLCJ0aGlzIiwidXBkYXRlIiwiY3JlYXRlRXZlbnQiLCJjcmVhdGVTdG9yZSIsIm1hdDQiLCJvbiIsIl8iLCJtYXRyaXhHTF9SSCIsImZ1bmMiLCJtYWluIiwiY2FyZCIsInBob25lIiwiaHRtbCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsIlNDRU5FX1NDQUxFIiwiQ1NTM0RSZW5kZXJlciIsImRvbUVsZW1lbnQiLCJub2RlcyIsIlNjZW5lTG9hZGVyIiwiTG9hZEFzeW5jIiwicm9vdE5vZGVzIiwiVEhSRUUiLCJDU1MzRCIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiQ1NTM0RPYmplY3QiLCJhcHAiLCJib2R5IiwicHJvcHMiLCJPYmplY3QzRCIsInBvaW50ZXJFdmVudHMiLCJ0cmF2ZXJzZSIsIkVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJDU1MzRFNwcml0ZSIsIl93aWR0aCIsIl9oZWlnaHQiLCJfd2lkdGhIYWxmIiwiX2hlaWdodEhhbGYiLCJfdGhpcyIsIk1hdHJpeDQiLCJjYWNoZSIsImZvdiIsIldlYWtNYXAiLCJvdmVyZmxvdyIsImNhbWVyYUVsZW1lbnQiLCJXZWJraXRUcmFuc2Zvcm1TdHlsZSIsInRyYW5zZm9ybVN0eWxlIiwiaXNJRSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJlcHNpbG9uIiwiYWJzIiwiZ2V0Q2FtZXJhQ1NTTWF0cml4IiwiZWxlbWVudHMiLCJnZXRPYmplY3RDU1NNYXRyaXgiLCJjYW1lcmFDU1NNYXRyaXgiLCJtYXRyaXgzZCIsImdldFNpemUiLCJhIiwiYiIsImdldERpc3RhbmNlVG9TcXVhcmVkIiwib2JqZWN0MSIsIm9iamVjdDIiLCJzZXRGcm9tTWF0cml4UG9zaXRpb24iLCJtYXRyaXhXb3JsZCIsImRpc3RhbmNlVG9TcXVhcmVkIiwiek9yZGVyIiwic29ydGVkIiwiZmlsdGVyQW5kRmxhdHRlbiIsInNvcnQiLCJkaXN0YW5jZVRvQ2FtZXJhU3F1YXJlZCIsInpNYXgiLCJ6SW5kZXgiLCJpc1BlcnNwZWN0aXZlQ2FtZXJhIiwiV2Via2l0UGVyc3BlY3RpdmUiLCJwZXJzcGVjdGl2ZSIsImF1dG9VcGRhdGUiLCJ1cGRhdGVNYXRyaXhXb3JsZCIsImlzT3J0aG9ncmFwaGljQ2FtZXJhIiwidHgiLCJyaWdodCIsInR5IiwiYm90dG9tIiwibWF0cml4V29ybGRJbnZlcnNlIiwiV2Via2l0VHJhbnNmb3JtIiwicmVuZGVyT2JqZWN0Iiwib25CZWZvcmVSZW5kZXIiLCJ0cmFuc3Bvc2UiLCJjb3B5UG9zaXRpb24iLCJjYWNoZWRPYmplY3QiLCJvYmplY3REYXRhIiwiZGlzcGxheSIsIm9uQWZ0ZXJSZW5kZXIiLCJjaGlsZHJlbiJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUixFQUFhSCxLQUNwRGMsRUFBUWQsR0FBWUcsRUFBWUgsSUFLbEMsSUFGR2UsR0FBcUJBLEVBQW9CaEIsR0FFdENPLEVBQVNDLFFBQ2RELEVBQVNVLE9BQVRWLEdBT0QsT0FIQVcsRUFBZ0JKLEtBQUtLLE1BQU1ELEVBQWlCYixHQUFrQixJQUd2RGUsSUFFUixTQUFTQSxJQUVSLElBREEsSUFBSUMsRUFDSWYsRUFBSSxF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LFNBQVUsSUFBTyxFQUN4QnhMLEVBQU93TCxTQUFVLElBQU8sRUFFeEIvSixFQUFRZ0ssRUFBb0J6TCxFQUFRMEwsSUFJcENqSyxFQUFRZ0ssRUFBb0I1UixFQUFPc1MsWUFBYVQsR0FJakQsSUFBSWxILEVBQVUzSyxFQUFPMkssUUFDakJvSixFQUFlakQsRUFBTS9QLFFBQVE1QixJQUFLYSxHQUV0QyxRQUFzQmdLLElBQWpCK0osR0FBOEJBLEVBQWFuTSxRQUFVQSxFQUFRLENBRWpFK0MsRUFBUS9DLE1BQU04TCxnQkFBa0I5TCxFQUNoQytDLEVBQVEvQyxNQUFNb0QsVUFBWXBELEVBRTFCLElBQUlvTSxFQUFhLENBQUVwTSxNQUFPQSxHQUVyQnlKLElBRUoyQyxFQUFXcEIsd0JBQTBCVixFQUFzQi9QLEVBQVFuQyxJQUlwRThRLEVBQU0vUCxRQUFReUUsSUFBS3hGLEVBQVFnVSxHQUk1QnJKLEVBQVEvQyxNQUFNcU0sUUFBVWpVLEVBQU9PLFFBQVUsR0FBSyxPQUV6Q29LLEVBQVEwRixhQUFlYSxHQUUzQkEsRUFBY3RQLFlBQWErSSxHQUk1QjNLLEVBQU9rVSxjQUFldEQsRUFBTzlQLEVBQU9xQixHQUlyQyxJQUFNLElBQUlwRixFQUFJLEVBQUcyQixFQUFJc0IsRUFBT21VLFNBQVNsWCxPQUFRRixFQUFJMkIsRUFBRzNCLElBRW5ENFcsRUFBYzNULEVBQU9tVSxTQUFVcFgsR0FBSytELEVBQU9xQixFQUFRMFAsR0F5R3BEOEIsQ0FBYzdTLEVBQU9BLEVBQU9xQixFQUFRMFAsR0FFL0JSLEdBTUptQixFQUFRMVIsTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDA6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzYyLDFdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiPHNjcmlwdD5cclxuaW1wb3J0IHsgb25Nb3VudCwgZ2V0Q29udGV4dCwgc2V0Q29udGV4dCB9IGZyb20gJ3N2ZWx0ZSdcclxuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCdcclxuXHJcbmV4cG9ydCBsZXQgdmlzaWJsZSA9IGZhbHNlXHJcbmV4cG9ydCBsZXQgZW5hYmxlZCA9IGZhbHNlXHJcbmV4cG9ydCBsZXQgY3JlYXRlU2NlbmUgPSBudWxsXHJcbmV4cG9ydCBsZXQgY3JlYXRlRW5naW5lID0gbnVsbFxyXG5cclxuY29uc3QgYXIgPSBnZXRDb250ZXh0KCdhcicpXHJcbmNvbnN0IG1hcmtlciA9IGdldENvbnRleHQoJ21hcmtlcicpXHJcblxyXG5jb25zdCBjb250ZXh0ID0ge1xyXG4gICAgc2NlbmU6IG51bGwsXHJcbiAgICBvYmplY3RzOiBbXVxyXG59XHJcblxyXG5zZXRDb250ZXh0KCdnbCcsIGNvbnRleHQpXHJcblxyXG5sZXQgbWFya2VyUm9vdFZpc2libGVBY3Rpb24gPSBudWxsXHJcblxyXG5sZXQgY29udGFpbmVyXHJcblxyXG4kOiBpZiAobWFya2VyUm9vdFZpc2libGVBY3Rpb24gIT0gbnVsbCkgbWFya2VyUm9vdFZpc2libGVBY3Rpb24odmlzaWJsZSlcclxuXHJcbm9uTW91bnQoKCkgPT4ge1xyXG4gIGNvbnN0IF9zY3JpcHRfID0gcmVxdWlyZSgnc2NyaXB0anMnKVxyXG4gIF9zY3JpcHRfKCdodHRwczovL2Nkbi5iYWJ5bG9uanMuY29tL2JhYnlsb24uanMnLCAoKSA9PiB7XHJcbiAgICBfc2NyaXB0XyhbXHJcbiAgICAgICdodHRwczovL2Nkbi5iYWJ5bG9uanMuY29tL2xvYWRlcnMvYmFieWxvbmpzLmxvYWRlcnMubWluLmpzJyxcclxuICAgICAgJ2h0dHBzOi8vY2RuLmJhYnlsb25qcy5jb20vbWF0ZXJpYWxzTGlicmFyeS9iYWJ5bG9uanMubWF0ZXJpYWxzLm1pbi5qcycsXHJcbiAgICAgICdodHRwczovL2Nkbi5iYWJ5bG9uanMuY29tL3Bvc3RQcm9jZXNzZXNMaWJyYXJ5L2JhYnlsb25qcy5wb3N0UHJvY2Vzcy5taW4uanMnLFxyXG4gICAgICAnaHR0cHM6Ly9jZG4uYmFieWxvbmpzLmNvbS9ndWkvYmFieWxvbi5ndWkubWluLmpzJyxcclxuICAgICAgJ2h0dHBzOi8vY2RuLmJhYnlsb25qcy5jb20vcHJvY2VkdXJhbFRleHR1cmVzTGlicmFyeS9iYWJ5bG9uanMucHJvY2VkdXJhbFRleHR1cmVzLm1pbi5qcyddLCdleHRlbnNpb25zJylcclxuXHJcbiAgICBfc2NyaXB0Xy5yZWFkeSgnZXh0ZW5zaW9ucycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZW5naW5lQ3JlYXRvciA9IChjcmVhdGVFbmdpbmUgIT0gbnVsbCkgPyBjcmVhdGVFbmdpbmUgOiAoY250KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY252ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY252LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChlKSA9PiB7ZS5wcmV2ZW50RGVmYXVsdCgpOyB9LCBmYWxzZSlcclxuICAgICAgICBjbnQuYXBwZW5kQ2hpbGQoY252KVxyXG4gICAgICAgIGNvbnN0IGVuZ2luZSA9IG5ldyBCQUJZTE9OLkVuZ2luZShjbnYsIHRydWUpXHJcbiAgICAgICAgcmV0dXJuIGVuZ2luZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlbmdpbmUgPSBlbmdpbmVDcmVhdG9yKGNvbnRhaW5lcilcclxuXHJcbiAgICAgIGNvbnN0IGNyZWF0b3IgPSAoY3JlYXRlU2NlbmUgIT0gbnVsbCkgPyBjcmVhdGVTY2VuZSA6IGFzeW5jIChlbmdpbmUpID0+IHtcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGVmYXVsdCBzY2VuZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBsZXQgc2NlbmUgPSBuZXcgQkFCWUxPTi5TY2VuZShlbmdpbmUpXHJcbiAgICAgICAgc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0gPSB0cnVlXHJcbiAgICAgICAgLy8gc2NlbmUuYXV0b0NsZWFyID0gZmFsc2U7XHJcbiAgICAgICAgc2NlbmUuY2xlYXJDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yNCgwLCAwLCAwLCAwKVxyXG4gICAgICAgIGxldCBjYW1lcmEgPSBuZXcgQkFCWUxPTi5DYW1lcmEoJ2NhbWVyYTEnLCBuZXcgQkFCWUxPTi5WZWN0b3IzLlplcm8oKSwgc2NlbmUpXHJcbiAgICAgICAgY2FtZXJhLmF0dGFjaENvbnRyb2woZW5naW5lLmdldFJlbmRlcmluZ0NhbnZhcygpLCB0cnVlKVxyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXHJcbiAgICAgICAgbGV0IGxpZ2h0MSA9IG5ldyBCQUJZTE9OLkhlbWlzcGhlcmljTGlnaHQoJ2xpZ2h0MScsIG5ldyBCQUJZTE9OLlZlY3RvcjMoMSwgMSwgMCksIHNjZW5lKVxyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXHJcbiAgICAgICAgbGV0IGxpZ2h0MiA9IG5ldyBCQUJZTE9OLlBvaW50TGlnaHQoJ2xpZ2h0MicsIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgLTEpLCBzY2VuZSlcclxuICAgICAgICBsZXQgYm94ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goJ2JveCcsIHsgd2lkdGg6IDEsIGhlaWdodDogMSwgc2l6ZTogMSB9LCBzY2VuZSlcclxuICAgICAgICBsZXQgbWFya2VyUm9vdCA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoJ21hcmtlclJvb3QnKVxyXG4gICAgICAgIGJveC5wYXJlbnQgPSBtYXJrZXJSb290XHJcbiAgICAgICAgcmV0dXJuIFtzY2VuZSwgY2FtZXJhLCBtYXJrZXJSb290XVxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjcmVhdG9yKGVuZ2luZSkudGhlbigoW3NjZW5lLCBjYW1lcmEsIG1hcmtlclJvb3RdKSA9PiB7XHJcbiAgICAgICAgbWFya2VyUm9vdC5zZXRFbmFibGVkKGZhbHNlKVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gY29udGV4dC5vYmplY3RzKSB7XHJcbiAgICAgICAgICBjb250ZXh0Lm9iamVjdHNbaV0ucGFyZW50ID0gbWFya2VyUm9vdFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWFya2VyUm9vdFZpc2libGVBY3Rpb24gPSAodmFsdWUpID0+IHtcclxuICAgICAgICAgIG1hcmtlclJvb3Quc2V0RW5hYmxlZChlbmFibGVkID09PSAndHJ1ZScgJiYgdmFsdWUpXHJcbiAgICAgICAgICBzY2VuZS5yZW5kZXIoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWFya2VyLndhdGNoKChtYXQpID0+IHtcclxuICAgICAgICAgIGlmIChtYXQpIHtcclxuICAgICAgICAgICAgY29uc3QgbWF0XyA9IG1hdDQuY3JlYXRlKClcclxuICAgICAgICAgICAgaWYgKGFyLm9yaWVudGF0aW9uID09PSAncG9ydHJhaXQnKSB7XHJcbiAgICAgICAgICAgICAgbWF0NC5yb3RhdGVaKG1hdF8sIG1hdCwgLTEgKiBNYXRoLlBJIC8gMilcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBtYXQ0LmNvcHkobWF0XywgbWF0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hcmtlclJvb3Quc2V0UHJlVHJhbnNmb3JtTWF0cml4KEJBQllMT04uTWF0cml4LkZyb21BcnJheShtYXRfKSlcclxuICAgICAgICAgICAgdmlzaWJsZSA9IHRydWVcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpc2libGUgPSBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnN0IHNldFNpemUgPSAoZW5naW5lLCB3aWR0aCwgaGVpZ2h0LCBvcmllbnRhdGlvbikgPT4ge1xyXG4gICAgICAgICAgaWYgKGVuZ2luZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ3BvcnRyYWl0Jykge1xyXG4gICAgICAgICAgICAgIGVuZ2luZS5zZXRTaXplKGhlaWdodCwgd2lkdGgpXHJcbiAgICAgICAgICAgICAgZW5naW5lLnJlc2l6ZSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZW5naW5lLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICAgICAgICBlbmdpbmUucmVzaXplKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRTaXplKGVuZ2luZSwgYXIuc2l6ZS52aWRlb1dpZHRoLCBhci5zaXplLnZpZGVvSGVpZ2h0LCBhci5vcmllbnRhdGlvbilcclxuXHJcbiAgICAgICAgYXIucmVzaXplZC53YXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICBzZXRTaXplKGVuZ2luZSwgYXIuc2l6ZS5vZmZzZXRXaWR0aCwgYXIuc2l6ZS5vZmZzZXRIZWlnaHQsIGFyLm9yaWVudGF0aW9uKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGFyLnJlbmRlci53YXRjaCgodCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCAhKGVuYWJsZWQgPT09ICd0cnVlJykgKSByZXR1cm5cclxuICAgICAgICAgIGlmICggdmlzaWJsZSAmJiBzY2VuZSAhPSBudWxsICkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gY29udGV4dC5vYmplY3RzKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGNvbnRleHQub2JqZWN0c1tpXS5jdXN0b20uYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9iamVjdHNbaV0uY3VzdG9tLmFuaW1hdGlvbi50aWNrKHQpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNjZW5lLnJlbmRlcigpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgYXIuc2V0dXAud2F0Y2goKG1hdCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGNhbWVyYSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNhbWVyYS5mcmVlemVQcm9qZWN0aW9uTWF0cml4KEJBQllMT04uTWF0cml4LkZyb21BcnJheShtYXQpKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIHByb2plY3Rpb24gc2V0OiAnICsgbWF0KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTY2VuZSBjcmVhdGVkJylcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxufSlcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGNsYXNzPSdnbCcgYmluZDp0aGlzPXtjb250YWluZXJ9PlxyXG4gICAgPHNsb3Q+PC9zbG90PlxyXG48L2Rpdj5cclxuXHJcbiIsIjxzY3JpcHQ+XHJcbmltcG9ydCB7IG9uTW91bnQsIHNldENvbnRleHQsIGdldENvbnRleHQgfSBmcm9tICdzdmVsdGUnXHJcbmltcG9ydCB7IG1hdDQsIHZlYzMsIHF1YXQgfSBmcm9tICdnbC1tYXRyaXgnXHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xyXG5cclxuZXhwb3J0IGxldCBlbmFibGVkID0gJ3RydWUnXHJcbmV4cG9ydCBsZXQgdmlzaWJsZSA9ICd0cnVlJ1xyXG5leHBvcnQgbGV0IGRpcmVjdFVwZGF0ZSA9ICdmYWxzZSdcclxuZXhwb3J0IGxldCBzY2FsZSA9ICcxJ1xyXG5leHBvcnQgbGV0IGNyZWF0ZVNjZW5lID0gbnVsbFxyXG5leHBvcnQgbGV0IGNyZWF0ZUVuZ2luZSA9IG51bGxcclxuXHJcbmNvbnN0IGFyID0gZ2V0Q29udGV4dCgnYXInKVxyXG5jb25zdCBtYXJrZXIgPSBnZXRDb250ZXh0KCdtYXJrZXInKVxyXG5cclxuY29uc3QgY29udGV4dCA9IHtcclxuICAgIHNjZW5lOiBudWxsLFxyXG4gICAgb2JqZWN0czogW11cclxufVxyXG5cclxuc2V0Q29udGV4dCgnZ2wnLCBjb250ZXh0KVxyXG5cclxubGV0IG1hcmtlclJvb3RWaXNpYmxlQWN0aW9uID0gbnVsbFxyXG5cclxubGV0IGNvbnRhaW5lclxyXG5sZXQgbWF0X1xyXG5cclxuJDogaWYgKG1hcmtlclJvb3RWaXNpYmxlQWN0aW9uICE9IG51bGwpIG1hcmtlclJvb3RWaXNpYmxlQWN0aW9uKHZpc2libGUpXHJcblxyXG52YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsY2FudmFzJyk7XHJcblxyXG5cclxub25Nb3VudCgoKSA9PiB7XHJcbiAgICBjb25zdCBlbmdpbmVDcmVhdG9yID0gKGNyZWF0ZUVuZ2luZSAhPSBudWxsKSA/IGNyZWF0ZUVuZ2luZSA6IChjbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjbnYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjbnYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKGUpID0+IHtlLnByZXZlbnREZWZhdWx0KCk7IH0sIGZhbHNlKVxyXG4gICAgICAgIGNudC5hcHBlbmRDaGlsZChjbnYpXHJcbiAgICAgICAgY29uc3QgZW5naW5lID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xyXG4gICAgICAgICAgICBjYW52YXM6IGNudixcclxuICAgICAgICAgICAgYWxwaGE6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIGVuZ2luZS5hdXRvQ2xlYXIgPSBmYWxzZVxyXG4gICAgICAgIHJldHVybiBlbmdpbmVcclxuICAgIH1cclxuICAgIGNvbnN0IGVuZ2luZSA9IGVuZ2luZUNyZWF0b3IoY29udGFpbmVyKVxyXG5cclxuICAgIGNvbnN0IHNjZW5lQ3JlYXRvciA9IChjcmVhdGVTY2VuZSAhPSBudWxsKSA/IGNyZWF0ZVNjZW5lIDogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBEZWZhdWx0IHNjZW5lIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKClcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgY2FtZXJhIGFuZCBhIG1hcmtlciByb290IG9iamVjdCBmb3IgeW91ciBUaHJlZS5qcyBzY2VuZS5cclxuICAgICAgICBjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuQ2FtZXJhKClcclxuICAgICAgICBjYW1lcmEubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlXHJcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAwLCAwKVxyXG4gICAgICAgIGNhbWVyYS51cGRhdGVNYXRyaXgoKVxyXG4gICAgICAgIHNjZW5lLmFkZChjYW1lcmEpXHJcblxyXG4gICAgICAgIGNvbnN0IGxpZ2h0MSA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmKVxyXG4gICAgICAgIGxpZ2h0MS5wb3NpdGlvbi5zZXQoNDAwLCA1MDAsIDEwMClcclxuICAgICAgICBzY2VuZS5hZGQobGlnaHQxKVxyXG4gICAgICAgIGNvbnN0IGxpZ2h0MiA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmKVxyXG4gICAgICAgIGxpZ2h0Mi5wb3NpdGlvbi5zZXQoLTQwMCwgLTUwMCwgLTEwMClcclxuICAgICAgICBzY2VuZS5hZGQobGlnaHQyKVxyXG5cclxuICAgICAgICBjb25zdCBtYXJrZXJSb290ID0gbmV3IFRIUkVFLkdyb3VwKClcclxuICAgICAgICBtYXJrZXJSb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZVxyXG5cclxuICAgICAgICBjb25zdCBjdWJlID0gbmV3IFRIUkVFLk1lc2goXHJcbiAgICAgICAgICAgIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLDEsMSksXHJcbiAgICAgICAgICAgIG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgICAgICAgICAgICAgIHdpcmVmcmFtZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjUsXHJcbiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApXHJcbiAgICAgICAgbWFya2VyUm9vdC5hZGQoY3ViZSlcclxuICAgICAgICBzY2VuZS5hZGQobWFya2VyUm9vdClcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coc2NlbmUpXHJcblxyXG4gICAgICAgIHJldHVybiBbc2NlbmUsIGNhbWVyYSwgbWFya2VyUm9vdF1cclxuICAgIH1cclxuXHJcbiAgICBzY2VuZUNyZWF0b3IoZW5naW5lLCBjb250YWluZXIpLnRoZW4oKFtzY2VuZSwgY2FtZXJhLCBtYXJrZXJSb290XSkgPT4ge1xyXG4gICAgICAgIGNvbnRleHQuc2NlbmUgPSBzY2VuZVxyXG5cclxuICAgICAgICBtYXJrZXJSb290VmlzaWJsZUFjdGlvbiA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBtYXJrZXJSb290LnZpc2libGUgPSAoZW5hYmxlZCA9PT0gJ3RydWUnKSAmJiAodmFsdWUgPT09ICd0cnVlJylcclxuICAgICAgICAgICAgaWYgKGVuZ2luZS5jbGVhcikgZW5naW5lLmNsZWFyKClcclxuICAgICAgICAgICAgZW5naW5lLnJlbmRlcihzY2VuZSwgY2FtZXJhKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWFya2VyLndhdGNoKChtYXQpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1hdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0XyA9IG1hdDQuY3JlYXRlKClcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Lm9yaWVudGF0aW9uID09PSAncG9ydHJhaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVaKG1hdF8sIG1hdCwgLTEgKiBNYXRoLlBJIC8gMilcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0NC5jb3B5KG1hdF8sIG1hdClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdFVwZGF0ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyUm9vdC5tYXRyaXguZnJvbUFycmF5KG1hdF8pXHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NhbGUgIT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlclJvb3Quc2NhbGUuc2V0KHNjYWxlLHNjYWxlLHNjYWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJSb290LnVwZGF0ZU1hdHJpeCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICovIFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gbWF0NC5nZXRUcmFuc2xhdGlvbih2ZWMzLmNyZWF0ZSgpLCBtYXRfKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gbWF0NC5nZXRSb3RhdGlvbihxdWF0LmNyZWF0ZSgpLCBtYXRfKVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlclJvb3QucXVhdGVybmlvbi5mcm9tQXJyYXkocm90YXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyUm9vdC5wb3NpdGlvbi5mcm9tQXJyYXkodHJhbnNsYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyUm9vdC5zY2FsZS5zZXQoc2NhbGUsc2NhbGUsc2NhbGUpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlclJvb3QudXBkYXRlTWF0cml4KClcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJSb290LnVwZGF0ZVdvcmxkTWF0cml4KGZhbHNlLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmlzaWJsZSA9ICd0cnVlJ1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZSA9ICdmYWxzZSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBjb250ZXh0Lm9iamVjdHMpIHtcclxuICAgICAgICAgICAgbWFya2VyUm9vdC5hZGQoY29udGV4dC5vYmplY3RzW2ldKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXIuc2V0dXAud2F0Y2goKG1hdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2FtZXJhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4LmZyb21BcnJheShtYXQpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIHByb2plY3Rpb24gc2V0OiAnICsgbWF0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0U2l6ZSA9IChlbmdpbmUsIHdpZHRoLCBoZWlnaHQsIG9yaWVudGF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbmdpbmUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAncG9ydHJhaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5naW5lLnNldFNpemUoaGVpZ2h0LCB3aWR0aClcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5naW5lLnNldFNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRTaXplKGVuZ2luZSwgYXIuc2l6ZS5vZmZzZXRXaWR0aCwgYXIuc2l6ZS5vZmZzZXRIZWlnaHQsIGFyLm9yaWVudGF0aW9uKVxyXG5cclxuICAgICAgICBhci5yZXNpemVkLndhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgc2V0U2l6ZShlbmdpbmUsIGFyLnNpemUub2Zmc2V0V2lkdGgsIGFyLnNpemUub2Zmc2V0SGVpZ2h0LCBhci5vcmllbnRhdGlvbilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBhci5yZW5kZXIud2F0Y2goKHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCAhKGVuYWJsZWQgPT09ICd0cnVlJykgKSByZXR1cm5cclxuICAgICAgICAgICAgaWYgKHNjZW5lICYmIHZpc2libGUgPT09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZ2luZS5jbGVhcikgZW5naW5lLmNsZWFyKClcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBjb250ZXh0Lm9iamVjdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5vYmplY3RzW2ldLmN1c3RvbS5hbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vYmplY3RzW2ldLmN1c3RvbS5hbmltYXRpb24udGljayh0KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZ2luZS5yZW5kZXIoc2NlbmUsIGNhbWVyYSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2NlbmUgY3JlYXRlZFwiKVxyXG4gICAgfSlcclxufSlcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcbiNkZWJ1Z2luZm8ge1xyXG4gICAgei1pbmRleDogMTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDVweDtcclxuICAgIGJvdHRvbTogMTAwcHg7XHJcbiAgICBjb2xvcjogZGFya2dyZWVuO1xyXG59XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGJpbmQ6dGhpcz17Y29udGFpbmVyfSBjbGFzcz0nZ2wnPlxyXG4gICAgPHNsb3Q+PC9zbG90PlxyXG48L2Rpdj5cclxuXHJcbjxkaXYgaWQ9J2RlYnVnaW5mbycgPlxyXG4gICAgeyNpZiBtYXRffVxyXG4gICAgPGRpdj57bWF0X308L2Rpdj5cclxuICAgIHsvaWZ9XHJcbjwvZGl2PiIsIjxzY3JpcHQ+XG5pbXBvcnQgeyBvbk1vdW50LCBnZXRDb250ZXh0LCBzZXRDb250ZXh0IH0gZnJvbSAnc3ZlbHRlJ1xuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ2dsLW1hdHJpeCdcblxuZXhwb3J0IGxldCB2aXNpYmxlID0gZmFsc2VcbmV4cG9ydCBsZXQgZW5hYmxlZCA9IGZhbHNlXG5leHBvcnQgbGV0IHBhdGNoUm9vdCA9ICcvanMvY2FibGVzL0xzeXN0ZW0nXG5leHBvcnQgbGV0IGlkID0gJ2NhYmxlc2NhbnZhcydcblxuY29uc3QgYXIgPSBnZXRDb250ZXh0KCdhcicpXG5jb25zdCBtYXJrZXIgPSBnZXRDb250ZXh0KCdtYXJrZXInKVxuXG5jb25zdCBjb250ZXh0ID0ge1xuICAgIHNjZW5lOiBudWxsLFxuICAgIG9iamVjdHM6IFtdXG59XG5cbnNldENvbnRleHQoJ2dsJywgY29udGV4dClcblxubGV0IGNvbnRhaW5lclxubGV0IG1hcmtlclJvb3RWaXNpYmxlQWN0aW9uID0gbnVsbFxuXG4kOiBpZiAobWFya2VyUm9vdFZpc2libGVBY3Rpb24gIT0gbnVsbCkgbWFya2VyUm9vdFZpc2libGVBY3Rpb24odmlzaWJsZSlcbiBcbiBcbm9uTW91bnQoKCkgPT4ge1xuICAgIGNvbnN0IF9zY3JpcHRfID0gcmVxdWlyZSgnc2NyaXB0anMnKVxuICAgIF9zY3JpcHRfKHBhdGNoUm9vdCsnL2pzL3BhdGNoLmpzJywgKCkgPT4ge1xuICAgIENBQkxFUy5wYXRjaCA9IG5ldyBDQUJMRVMuUGF0Y2goe1xuICAgICAgICBwYXRjaDogQ0FCTEVTLmV4cG9ydGVkUGF0Y2gsXG4gICAgICAgIHByZWZpeEFzc2V0UGF0aDonJyxcbiAgICAgICAgZ2xDYW52YXNJZDppZCxcbiAgICAgICAgb25FcnJvcjphbGVydCxcbiAgICAgICAgZ2xDYW52YXNSZXNpemVUb1BhcmVudDp0cnVlLFxuICAgICAgICBjYW52YXM6e1xuICAgICAgICAgICAgYWxwaGE6dHJ1ZSxcbiAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTp0cnVlXG4gICAgICAgIH1cbiAgICB9KVxuXG5cblxuICAgIG1hcmtlclJvb3RWaXNpYmxlQWN0aW9uID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIC8qXG4gICAgICAgIG1hcmtlclJvb3QudmlzaWJsZSA9IChlbmFibGVkID09PSAndHJ1ZScpICYmICh2YWx1ZSA9PT0gJ3RydWUnKVxuICAgICAgICBpZiAoZW5naW5lLmNsZWFyKSBlbmdpbmUuY2xlYXIoKVxuICAgICAgICBlbmdpbmUucmVuZGVyKHNjZW5lLCBjYW1lcmEpXG4gICAgICAgICovXG4gICAgfVxuXG4gICAgbWFya2VyLndhdGNoKChtYXQpID0+IHtcbiAgICAgICAgaWYgKG1hdCkge1xuICAgICAgICAgICAgY29uc3QgbWF0XyA9IG1hdDQuY3JlYXRlKClcbiAgICAgICAgICAgIGlmIChjb250ZXh0Lm9yaWVudGF0aW9uID09PSAncG9ydHJhaXQnKSB7XG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVaKG1hdF8sIG1hdCwgLTEgKiBNYXRoLlBJIC8gMilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0NC5jb3B5KG1hdF8sIG1hdClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSBtYXQ0LmdldFRyYW5zbGF0aW9uKHZlYzMuY3JlYXRlKCksIG1hdF8pXG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IG1hdDQuZ2V0Um90YXRpb24ocXVhdC5jcmVhdGUoKSwgbWF0XylcbiAgICAgICAgICAgIGNvbnN0IHNjYWxpbmcgPSBtYXQ0LmdldFNjYWxpbmcodmVjMy5jcmVhdGUoKSwgbWF0XylcblxuICAgICAgICAgICAgcGF0Y2guc2V0VmFyaWFibGUoXCJwb3NYXCIsdHJhbnNsYXRpb25bMF0pXG4gICAgICAgICAgICBwYXRjaC5zZXRWYXJpYWJsZShcInBvc1lcIix0cmFuc2xhdGlvblsxXSlcbiAgICAgICAgICAgIHBhdGNoLnNldFZhcmlhYmxlKFwicG9zWlwiLHRyYW5zbGF0aW9uWzJdKVxuXG4gICAgICAgICAgICBwYXRjaC5zZXRWYXJpYWJsZShcInJvdFhcIixyb3RhdGlvblswXSlcbiAgICAgICAgICAgIHBhdGNoLnNldFZhcmlhYmxlKFwicm90WVwiLHJvdGF0aW9uWzFdKVxuICAgICAgICAgICAgcGF0Y2guc2V0VmFyaWFibGUoXCJyb3RaXCIscm90YXRpb25bMl0pXG4gIFxuICAgICAgICAgICAgdmlzaWJsZSA9ICd0cnVlJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlzaWJsZSA9ICdmYWxzZSdcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCBzZXRTaXplID0gKHdpZHRoLCBoZWlnaHQsIG9yaWVudGF0aW9uKSA9PiB7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHdpZHRoXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoZWlnaHRcbiAgICB9XG4gICAgXG4gICAgc2V0U2l6ZShhci5zaXplLnZpZGVvV2lkdGgsIGFyLnNpemUudmlkZW9IZWlnaHQsIGFyLm9yaWVudGF0aW9uKVxuXG4gICAgYXIucmVzaXplZC53YXRjaCgoKSA9PiB7XG4gICAgICAgIHNldFNpemUoYXIuc2l6ZS5vZmZzZXRXaWR0aCwgYXIuc2l6ZS5vZmZzZXRIZWlnaHQsIGFyLm9yaWVudGF0aW9uKVxuICAgIH0pXG5cbiAgfSlcbn0pXG48L3NjcmlwdD5cblxuPHN0eWxlPlxuI2dsY2FudmFzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDA7XG59XG48L3N0eWxlPlxuXG48ZGl2IGNsYXNzPSdnbCcgaWQ9J2NvbnRhaW5lcicgYmluZDp0aGlzPXtjb250YWluZXJ9ID5cbiAgICA8Y2FudmFzIGlkPXtpZH0+PC9jYW52YXM+XG4gICAgPHNsb3Q+PC9zbG90PlxuPC9kaXY+XG5cbiIsIjxzY3JpcHQ+XHJcbiAgIGltcG9ydCB7IHNldENvbnRleHQsIG9uTW91bnQgfSBmcm9tICdzdmVsdGUnXHJcbiAgIGltcG9ydCB7IGNyZWF0ZUV2ZW50LCBjcmVhdGVTdG9yZSwgY3JlYXRlQXBpIH0gZnJvbSAnZWZmZWN0b3InXHJcblxyXG4gICBleHBvcnQgbGV0IHNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxyXG4gICAvKlxyXG4gICAgICAgMDogQVJfTEFCRUxJTkdfVEhSRVNIX01PREVfTUFOVUFMXHJcbiAgICAgICAxOiBBUl9MQUJFTElOR19USFJFU0hfTU9ERV9BVVRPX01FRElBTlxyXG4gICAgICAgMjogQVJfTEFCRUxJTkdfVEhSRVNIX01PREVfQVVUT19PVFNVXHJcbiAgICAgICAzOiBBUl9MQUJFTElOR19USFJFU0hfTU9ERV9BVVRPX0FEQVBUSVZFXHJcbiAgICAgICA0OiBBUl9MQUJFTElOR19USFJFU0hfTU9ERV9BVVRPX0JSQUNLRVRJTkdcclxuICAgKi9cclxuICAgZXhwb3J0IGxldCB0aHJlc2hvbGRNb2RlID0gNFxyXG4gICBleHBvcnQgbGV0IHRocmVzaG9sZCA9IDE2MFxyXG4gICBleHBvcnQgbGV0IGRlYnVnID0gZmFsc2VcclxuICAgZXhwb3J0IGxldCBkZWJ1Z19pbmZvID0gdHJ1ZVxyXG4gICBleHBvcnQgbGV0IG1heEFSVmlkZW9TaXplID0gNjQwXHJcbiAgIGV4cG9ydCBsZXQgbWFya2VyTG9zc0RlbGF5ID0gMjAwXHJcbiAgIGV4cG9ydCBsZXQgcGF0dFJhdGlvID0gMC45XHJcblxyXG4gICBsZXQgY29udGFpbmVyXHJcbiAgIGxldCB2aWRlb1xyXG4gICBsZXQgbWFya2VyY29udGFpbmVyIFxyXG5cclxuZXhwb3J0IGNvbnN0IGFydG9vbGtpdF93YXNtX3VybCA9ICcvanMvYXJ0b29sa2l0L2FydG9vbGtpdF93YXNtLndhc20nXHJcblxyXG4gICBjb25zdCB3YXJuaW5nVmlzaWJsZSA9IGNyZWF0ZVN0b3JlKHRydWUpXHJcbiAgIGNvbnN0IG1hcmtlcldhcm5pbmcgPSBjcmVhdGVBcGkod2FybmluZ1Zpc2libGUsIHtzaG93OiAoc3RhdGUsIHZhbHVlKSA9PiB2YWx1ZX0pXHJcblxyXG4gICBjb25zdCB2aXNpYmxlTWFya2Vyc0NvdW50ID0gY3JlYXRlU3RvcmUoMClcclxuICAgY29uc3QgdmlzaWJsZU1hcmtlcnNBcGkgPSBjcmVhdGVBcGkodmlzaWJsZU1hcmtlcnNDb3VudCwge1xyXG4gICAgICAgaW5jOiAoc3RhdGUpID0+IHtcclxuICAgICAgICAgICBtYXJrZXJXYXJuaW5nLnNob3coZmFsc2UpXHJcbiAgICAgICAgICAgY29uc29sZS5sb2coXCJNYXJrZXIgY291bnQ6IFwiLHN0YXRlKzEpXHJcbiAgICAgICAgICAgcmV0dXJuIHN0YXRlICsgMVxyXG4gICAgICAgfSxcclxuICAgICAgIGRlYzogKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgY29uc29sZS5sb2coXCJNYXJrZXIgY291bnQ6IFwiLHN0YXRlLTEpXHJcbiAgICAgICAgICAgaWYgKHN0YXRlID09PSAxKSBtYXJrZXJXYXJuaW5nLnNob3codHJ1ZSlcclxuICAgICAgICAgICByZXR1cm4gc3RhdGUgLSAxXHJcbiAgICAgICB9XHJcbiAgIH0pXHJcblxyXG4gICBjb25zdCBmaXRUb0NvbnRhaW5lciA9IChlbG0pID0+IHtcclxuICAgICAgIC8vIEdldCB3aW5kb3cgc2l6ZVxyXG4gICAgICAgY29uc3QgbWF4V2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGhcclxuICAgICAgIGNvbnN0IG1heEhlaWdodCA9IGNvbnRhaW5lci5jbGllbnRIZWlnaHRcclxuXHJcbiAgICAgICAvLyBHZXQgdmlkZW8gc2l6ZVxyXG4gICAgICAgY29uc3QgdmlkZW9XaWR0aCA9IGVsbS52aWRlb1dpZHRoXHJcbiAgICAgICBjb25zdCB2aWRlb0hlaWdodCA9IGVsbS52aWRlb0hlaWdodFxyXG5cclxuICAgICAgIGxldCBzY2FsZSA9IHZpZGVvV2lkdGggLyBtYXhXaWR0aFxyXG5cclxuICAgICAgIC8vIFNldCBzaXplIGZyb20gd2luZG93XHJcbiAgICAgICBlbG0uc3R5bGUuaGVpZ2h0ID0gdmlkZW9IZWlnaHQgLyBzY2FsZSArICdweCdcclxuICAgICAgIGVsbS5zdHlsZS53aWR0aCA9IG1heFdpZHRoICsgJ3B4J1xyXG4gICB9XHJcblxyXG4gICBsZXQgbWVzc2FnZSA9ICcnXHJcbiAgIGxldCBlcnIgPSAnJ1xyXG5cclxuICAgbGV0IHBhdHRlcm5zID0gW11cclxuXHJcbiAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICBzaXplOntcclxuICAgICAgICAgICB2aWRlb1dpZHRoOiBudWxsLFxyXG4gICAgICAgICAgIHZpZGVvSGVpZ2h0OiBudWxsLFxyXG4gICAgICAgICAgIG9mZnNldFdpZHRoOiAzMjAsXHJcbiAgICAgICAgICAgb2Zmc2V0SGVpZ2h0OiAyNDAsXHJcbiAgICAgICAgICAgbWFyZ2luTGVmdDogMCxcclxuICAgICAgICAgICBtYXJnaW5Ub3A6IDAsXHJcbiAgICAgICB9LFxyXG4gICAgICAgb3JpZW50YXRpb246IG51bGwsXHJcbiAgICAgICBjYW1lcmFtYXQ6IG51bGwsXHJcbiAgICAgICBtYXJrZXI6IHtcclxuICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICBtYXQ6IG51bGxcclxuICAgICAgIH0sXHJcbiAgICAgICBzZXR1cDogY3JlYXRlRXZlbnQoKSxcclxuICAgICAgIHJlc2l6ZWQ6IGNyZWF0ZUV2ZW50KCksXHJcbiAgICAgICByZW5kZXI6IGNyZWF0ZUV2ZW50KCksXHJcbiAgICAgICBtYXJrZXJGb3VuZDogY3JlYXRlRXZlbnQoKSxcclxuICAgICAgIG1hcmtlckxvc3Q6IGNyZWF0ZUV2ZW50KCksXHJcbiAgICAgICBsb2FkUGF0dGVybjogKHBhdHQsIGxvYWRlZCkgPT4ge1xyXG4gICAgICAgICAgIHBhdHRlcm5zLnB1c2goW3BhdHQsIGxvYWRlZF0pXHJcbiAgICAgICB9LFxyXG4gICAgICAgdmlzaWJsZU1hcmtlcnM6IHZpc2libGVNYXJrZXJzQXBpXHJcbiAgIH1cclxuXHJcbiAgIHNldENvbnRleHQoJ2FyJywgY29udGV4dClcclxuXHJcbiAgIGxldCBtYXJrZXJMb3N0Q291bnRkb3duID0gbWFya2VyTG9zc0RlbGF5XHJcblxyXG4gICBsZXQgYXJjdHJsTG9hZGVkID0gZmFsc2VcclxubGV0IGFyQ2FtZXJhUGFyYW1Mb2FkZWQgPSBmYWxzZVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlY3RybChzb3VyY2UsIGFyQ2FtZXJhUGFyYW0pIHtcclxuXHRjb25zdCBvbkdldE1hcmtlciA9IGFzeW5jIChldikgPT4ge1xyXG5cdFx0aWYgKGRlYnVnID09PSAndHJ1ZScpIHtcclxuXHRcdCAgICBjb25zb2xlLmxvZyhcIkRldGVjdGVkIG1hcmtlciB3aXRoIGlkczpcIiwgZXYuZGF0YS5tYXJrZXIuaWQsIGV2LmRhdGEubWFya2VyLmlkUGF0dCwgZXYuZGF0YS5tYXJrZXIuaWRNYXRyaXgpXHJcblx0XHQgICAgY29uc29sZS5sb2coXCJNYXJrZXIgZGF0YVwiLCBldi5kYXRhLm1hcmtlcilcclxuICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNYXJrZXIgdHJhbnNmb3JtIG1hdHJpeDpcIiwgW10uam9pbi5jYWxsKGV2LmRhdGEubWF0cml4LCAnLCAnKSlcclxuICAgICAgICAgICB9XHJcblxyXG5cdFx0Ly8gVW5rbm93biBtYXJrZXIgaWQgbXVzdCBiZSAtMVxyXG5cdFx0LypcclxuXHRcdGlmICgoZXYuZGF0YS5tYXJrZXIuaWRQYXR0ID49IDApfHwoZXYuZGF0YS5tYXJrZXIuaWRNYXRyaXggPj0gMCkpIHtcclxuXHRcdFx0Y29udGV4dC5tYXJrZXIgPSB7dmlzaWJsZTogdHJ1ZSwgbWF0OiBldi5kYXRhLm1hdHJpeEdMX1JIfVxyXG5cdFx0XHRjb250ZXh0Lm1hcmtlckZvdW5kKGNvbnRleHQubWFya2VyKVxyXG5cdFx0fVxyXG5cdFx0Ki9cclxuXHRcdGNvbnRleHQubWFya2VyRm91bmQoe2NhbnZhczogZXYudGFyZ2V0LmNhbnZhcywgZGF0YTogZXYuZGF0YX0pXHJcblx0fVxyXG5cclxuXHRjb25zdCBtYXhTaXplID0gbWF4QVJWaWRlb1NpemUgfHwgTWF0aC5tYXgoc291cmNlLnZpZGVvV2lkdGgsIHNvdXJjZS52aWRlb0hlaWdodClcclxuXHRjb25zdCBmID0gbWF4U2l6ZSAvIE1hdGgubWF4KHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpXHJcblx0bGV0IHcgPSBkZWJ1Zz9zb3VyY2UudmlkZW9XaWR0aDpmICogc291cmNlLnZpZGVvV2lkdGhcclxuXHRsZXQgaCA9IGRlYnVnP3NvdXJjZS52aWRlb0hlaWdodDpmICogc291cmNlLnZpZGVvSGVpZ2h0XHJcblxyXG5cdGlmICgoIWRlYnVnKSYmKHNvdXJjZS52aWRlb1dpZHRoIDwgc291cmNlLnZpZGVvSGVpZ2h0KSkge1xyXG5cdFx0W2gsIHddID0gW3csIGhdXHJcblx0fVxyXG5cclxuXHRsZXQgY29udHJvbGxlciA9IG5ldyBBUkNvbnRyb2xsZXIodywgaCwgYXJDYW1lcmFQYXJhbSlcclxuXHRjb250cm9sbGVyLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcclxuXHRcdC8vYXJjdHJsLm9ubG9hZCA9IG51bGxcclxuXHRcdGFyY3RybExvYWRlZCA9IHRydWVcclxuXHRcdGNvbnNvbGUubG9nKCdhcmN0cmwgbG9hZGVkJylcclxuXHRcdG1lc3NhZ2UgPSAnYXJjdHJsIGxvYWRlZCdcclxuXHJcblx0XHQvLyBhcmN0cmwub3JpZW50YXRpb24gPSAncG9ydHJhaXQnICAgICAvLyBkZWZhdWx0OiBsYW5kc2NhcGVcclxuXHRcdGNvbnRyb2xsZXIuc2V0UGF0dGVybkRldGVjdGlvbk1vZGUoYXJ0b29sa2l0LkFSX1RFTVBMQVRFX01BVENISU5HX01PTk9fQU5EX01BVFJJWClcclxuXHRcdGNvbnRyb2xsZXIuc2V0TWF0cml4Q29kZVR5cGUoYXJ0b29sa2l0LkFSX01BVFJJWF9DT0RFXzR4NF9CQ0hfMTNfNV81KVxyXG4gICAgICAgICAgIGNvbnRyb2xsZXIuc2V0UGF0dFJhdGlvKHBhdHRSYXRpbyk7XHJcblxyXG5cdFx0Y29udHJvbGxlci5zZXRUaHJlc2hvbGRNb2RlKHRocmVzaG9sZE1vZGUpXHJcblx0XHRjb250cm9sbGVyLnNldFRocmVzaG9sZCh0aHJlc2hvbGQpXHJcblxyXG5cdFx0Y29udHJvbGxlci5jdHgubW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gc21vb3RoaW5nRW5hYmxlZFxyXG5cdFx0Y29udHJvbGxlci5jdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gc21vb3RoaW5nRW5hYmxlZFxyXG5cdFx0Y29udHJvbGxlci5jdHgubXNJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBzbW9vdGhpbmdFbmFibGVkXHJcblx0XHRjb250cm9sbGVyLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBzbW9vdGhpbmdFbmFibGVkXHJcblxyXG5cdFx0Y29udHJvbGxlci5pbWFnZSA9IHNvdXJjZVxyXG5cdFx0bWVzc2FnZSA9ICdhcmN0cmwgdmlkZW8gYXNzaWduZWQnXHJcblxyXG5cdFx0Y29udGV4dC5zZXR1cChjb250cm9sbGVyLmdldENhbWVyYU1hdHJpeCgpKVxyXG5cdFx0bWVzc2FnZSA9ICdhcmN0cmwgY2FtZXJhIG1hdHJpeCBzZXQnXHJcblxyXG5cdFx0Y29udGV4dC5sb2FkUGF0dGVybiA9IChwYXR0LCBsb2FkZWQpID0+IHtcclxuXHRcdFx0cmV0dXJuIGNvbnRyb2xsZXIubG9hZE1hcmtlcihwYXR0LCBhc3luYyAobWFya2VySWQpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIk1hcmtlciBsb2FkZWQsIGlkOlwiLG1hcmtlcklkKVxyXG5cdFx0XHRcdGxvYWRlZChtYXJrZXJJZClcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHRwYXR0ZXJucy5mb3JFYWNoKChwYXR0X3JxKT0+e1xyXG5cdFx0XHRjb25zdCBbcGF0dGVybiwgbG9hZGVkXSA9IHBhdHRfcnFcclxuXHRcdFx0Y29udGV4dC5sb2FkUGF0dGVybihwYXR0ZXJuLCBsb2FkZWQpXHJcblx0XHR9KVxyXG5cdFx0bWVzc2FnZSA9ICdhcmN0cmwgY2FtZXJhIG1hcmtlcnMgc2V0J1xyXG5cclxuXHRcdGNvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignZ2V0TWFya2VyJywgb25HZXRNYXJrZXIpXHJcblx0XHRtZXNzYWdlID0gJ2FyY3RybCBsb29wIHN0YXJ0ZWQnXHJcblxyXG5cdFx0aWYgKChkZWJ1ZyA9PT0gJ3RydWUnKXx8KGRlYnVnID09PSB0cnVlKSkge1xyXG5cdFx0XHRkZWJ1ZyA9IGZhbHNlICAgICAvLyBJdCBpcyBuZWVkZWQgb25seSBvbmNlIHBlciBzZXNzaW9uXHJcblx0XHRcdGNvbnRyb2xsZXIuZGVidWdTZXR1cCgpXHJcbiAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xyXG5cdFx0XHRjb250cm9sbGVyLmNhbnZhcy5zdHlsZS50b3AgPSAnMHB4J1xyXG5cdFx0XHRjb250cm9sbGVyLmNhbnZhcy5zdHlsZS5vcGFjaXR5ID0gJzAuNidcclxuXHRcdFx0Y29udHJvbGxlci5jYW52YXMuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyLmNhbnZhcy5zdHlsZS56SW5kZXggPSAnMSdcclxuICAgICAgICAgICAgICAgKi9cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGNvbnRyb2xsZXJcclxufVxyXG5cclxuICAgb25Nb3VudChhc3luYyAoKSA9PiB7XHJcbiAgICAgICBsZXQgX3NjcmlwdF8gPSByZXF1aXJlKCdzY3JpcHRqcycpXHJcbiAgICAgICBpZiAoIGRlYnVnICkge1xyXG4gICAgICAgICAgIF9zY3JpcHRfKFsnL2pzL2FydG9vbGtpdC9hcnRvb2xraXQuYXBpLmpzJywgJy9qcy9hcnRvb2xraXQvYXJ0b29sa2l0LmRlYnVnLmpzJ10sICdidW5kbGUnKVxyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICBfc2NyaXB0XyhbJy9qcy9hcnRvb2xraXQvYXJ0b29sa2l0X3dhc20uanMnXSwgJ2J1bmRsZScpXHJcbiAgICAgICB9XHJcbiAgICAgICBfc2NyaXB0Xy5yZWFkeSgnYnVuZGxlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgIGxldCBhckNhbWVyYVBhcmFtID0gbmV3IEFSQ2FtZXJhUGFyYW0oKVxyXG4gICAgICAgICAgIGFyQ2FtZXJhUGFyYW0ub25sb2FkID0gIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgaWYgKGFyQ2FtZXJhUGFyYW1Mb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIGFyQ2FtZXJhUGFyYW1Mb2FkZWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgIC8vYXJDYW1lcmFQYXJhbS5vbmxvYWQgPSBudWxsXHJcbiAgICAgICAgICAgICAgIC8vbGV0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvY2FudmFzJylcclxuXHJcbiAgICAgICAgICAgICAgIC8vZGlzcGF0Y2goJ2xvYWRlZCcsIHtzb3VyY2U6dmlkZW99KVxyXG4gICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICB8fCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMgPT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgfHwgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgbGV0IGZjdE5hbWUgPSAnJ1xyXG4gICAgICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgPT09IHVuZGVmaW5lZCkgZmN0TmFtZSA9ICduYXZpZ2F0b3IubWVkaWFEZXZpY2VzJ1xyXG4gICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzID09PSB1bmRlZmluZWQpIGZjdE5hbWUgPSAnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzJ1xyXG4gICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPT09IHVuZGVmaW5lZCkgZmN0TmFtZSA9ICduYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSdcclxuICAgICAgICAgICAgICAgICAgIGVsc2UgY29uc29sZS5hc3NlcnQoZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICBvbkVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnV2ViUlRDIGlzc3VlLSEgJyArIGZjdE5hbWUgKyAnIG5vdCBwcmVzZW50IGluIHlvdXIgYnJvd3NlcidcclxuICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgIGxldCB1c2VyTWVkaWFDb25zdHJhaW50cyA9IHtcclxuICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgIHZpZGVvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogeyBleGFjOiBjb250ZXh0LnNpemUudmlkZW9XaWR0aCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogeyBleGFjOiBjb250ZXh0LnNpemUudmlkZW9IZWlnaHQgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgIGZhY2luZ01vZGU6ICdlbnZpcm9ubWVudCdcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgbGV0IGFyY3RybCA9IG51bGxcclxuICAgICAgICAgICAgICAgLy8gZ2V0IGEgZGV2aWNlIHdoaWNoIHNhdGlzZnkgdGhlIGNvbnN0cmFpbnRzXHJcbiAgICAgICAgICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gZXZlbnQudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICBjb25zdCByZXNpemVCeSA9IChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyY29udGFpbmVyLnN0eWxlLnRvcCA9IGVsZW1lbnQudG9wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyY29udGFpbmVyLnN0eWxlLmxlZnQgPSBlbGVtZW50LmxlZnRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zaXplLnZpZGVvV2lkdGggPSBlbGVtZW50LnZpZGVvV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnNpemUudmlkZW9IZWlnaHQgPSBlbGVtZW50LnZpZGVvSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zaXplLm9mZnNldFdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc2l6ZS5vZmZzZXRIZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPCB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vcmllbnRhdGlvbiA9ICdwb3J0cmFpdCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyY29udGFpbmVyLnN0eWxlLndpZHRoID0gZWxlbWVudC5vZmZzZXRIZWlnaHQrJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRXaWR0aCsncHgnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcmNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKC05MGRlZykgdHJhbnNsYXRlWCgtMTAwJSknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vcmllbnRhdGlvbiA9ICdsYW5kc2NhcGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGgrJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQrJ3B4J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJjb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJydcclxuICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyY3RybCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBbdyxoXSA9IGNvbnRleHQub3JpZW50YXRpb24gPT09ICdsYW5kc2NhcGUnP1t2aWRlby52aWRlb1dpZHRoLCB2aWRlby52aWRlb0hlaWdodF06W3ZpZGVvLnZpZGVvSGVpZ2h0LHZpZGVvLnZpZGVvV2lkdGhdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY3RybC5vcmllbnRhdGlvbiA9IGNvbnRleHQub3JpZW50YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjdHJsLnZpZGVvV2lkdGggPSB3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyY3RybC52aWRlb0hlaWdodCA9IGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zZXR1cChhcmN0cmwuZ2V0Q2FtZXJhTWF0cml4KCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAncmVzaXplZCdcclxuICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc2l6ZWQoKVxyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGNvbnRleHQgIT0gbnVsbCkgJiYgKHZpZGVvICE9IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmN0cmwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJjdHJsID0gY3JlYXRlY3RybCh2aWRlbywgYXJDYW1lcmFQYXJhbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemVCeSh2aWRlbylcclxuICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICB9KS5vYnNlcnZlKHZpZGVvKVxyXG4gICAgICAgICAgICAgICAgICAgcmVzaXplQnkodmlkZW8pXHJcbiAgICAgICAgICAgICAgICAgICBjb25zdCB0aWNrZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2tlcilcclxuICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJjdHJsID09IG51bGwpIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgIGFyY3RybC5wcm9jZXNzKHZpZGVvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlck51bSA9IGFyY3RybC5nZXRNYXJrZXJOdW0oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJrZXJOdW0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ01hcmtlck51bSA9ICcrbWFya2VyTnVtKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJMb3N0Q291bnRkb3duID0gbWFya2VyTG9zc0RlbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlckxvc3RDb3VudGRvd24gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWFya2VyTG9zdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyTG9zdENvdW50ZG93bi0tXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucmVuZGVyKClcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgIHRpY2tlcigpXHJcbiAgICAgICAgICAgICAgICAgICB2aWRlby5wbGF5KClcclxuICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHVzZXJNZWRpYUNvbnN0cmFpbnRzKS50aGVuKChzdHJlYW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHb3QgY2FtZXJhIG9iamVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICB2aWRlby5zcmNPYmplY3QgPSBzdHJlYW1cclxuICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IFwiK2Vycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgdmlkZW8uc3JjID0gJy9hc3NldHMvT3V0cHV0XzQtMS53ZWJtJ1xyXG4gICAgICAgICAgICAgICAgICAgLy92aWRlby5zcmMgPSAnYXNzZXRzL291dHB1dF80Lm9nbSdcclxuICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgLy8gR2V0IGFjY2VzcyB0byB0aGUgY2FtZXJhIVxyXG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFydG9vbGtpdCBsb2FkZWRcIilcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgYXJDYW1lcmFQYXJhbS5sb2FkKCcvYXNzZXRzL2NhbWVyYV9wYXJhLmRhdCcpXHJcbiAgICAgICB9KVxyXG4gICB9KVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuLnZpZGVvQ29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLnZpZGVvQ29udGFpbmVyIHZpZGVvIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBtaW4td2lkdGg6IDEwMCU7XHJcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICBvYmplY3QtcG9zaXRpb246IDUwJSA1MCVcclxufVxyXG5cclxuI2RlYnVnaW5mbyB7XHJcbiAgICB6LWluZGV4OiAxO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogNXB4O1xyXG4gICAgYm90dG9tOiAxMDBweDtcclxuICAgIGNvbG9yOiBkYXJrZ3JlZW47XHJcbn1cclxuI21hcmtlcmNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogMHB4IDBweDtcclxufVxyXG4jbWFya2VyV2FybmluZyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6NTAlO1xyXG4gICAgbGVmdDo1MCU7XHJcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbn1cclxuOmdsb2JhbCgubWFya2VyKSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuOmdsb2JhbCguZ2wpIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBiaW5kOnRoaXM9e2NvbnRhaW5lcn0gY2xhc3M9XCJ2aWRlb0NvbnRhaW5lclwiPlxyXG4gICAgPHZpZGVvIGJpbmQ6dGhpcz17dmlkZW99IGlkPVwidmlkZW9jYW52YXNcIiBjb250cm9scz1cIlwiIGF1dG9wbGF5PVwidHJ1ZVwiIG11dGVkPVwidHJ1ZVwiIGxvb3A9XCJ0cnVlXCIgcGxheXNpbmxpbmU9XCJ0cnVlXCI+PC92aWRlbz5cclxuICAgIDxkaXYgYmluZDp0aGlzPXttYXJrZXJjb250YWluZXJ9IGlkPVwibWFya2VyY29udGFpbmVyXCIgPlxyXG4gICAgICAgIDxzbG90Pjwvc2xvdD5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbnsjaWYgJHdhcm5pbmdWaXNpYmxlfVxyXG48ZGl2IGlkPVwibWFya2VyV2FybmluZ1wiIGNsYXNzPVwibWF4LXctc20gcm91bmRlZCBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LWxnIGJnLWNvdmVyXCIgPlxyXG4gICAgPGRpdiBjbGFzcz1cInB4LTYgcHktNFwiPlxyXG4gICAgICAgIDxwIGNsYXNzPSd0ZXh0LWdyYXktNTAwIHRleHQtYmFzZSc+0J3QsNCy0LXQtNC40YLQtSDQutCw0LzQtdGA0YMg0L3QsCDQvNCw0YDQutC10YA8L3A+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+XHJcbnsvaWZ9XHJcblxyXG57I2lmIChkZWJ1Z19pbmZvID09PSAndHJ1ZScpfHwoZGVidWdfaW5mbyA9PT0gdHJ1ZSl9XHJcbjxkaXYgaWQ9J2RlYnVnaW5mbycgPlxyXG4gICAgPGRpdj5WaWRlbyBzaXplOiB7Y29udGV4dC5zaXplLnZpZGVvV2lkdGh9LCB7Y29udGV4dC5zaXplLnZpZGVvSGVpZ2h0fTwvZGl2PlxyXG4gICAgPGRpdj5WaWRlbyBvZmZzZXQ6IHtjb250ZXh0LnNpemUub2Zmc2V0V2lkdGh9LCB7Y29udGV4dC5zaXplLm9mZnNldEhlaWdodH08L2Rpdj5cclxuICAgIDxkaXY+T3JpZW50YXRpb246IHtjb250ZXh0Lm9yaWVudGF0aW9ufSA8L2Rpdj5cclxuICAgIHsjaWYgbWVzc2FnZSAhPSAnJ31cclxuICAgIDxkaXY+TXNnOiB7bWVzc2FnZX0gPC9kaXY+XHJcbiAgICB7L2lmfVxyXG4gICAgeyNpZiBlcnIgIT0gJyd9XHJcbiAgICA8ZGl2PkVycm9yOiB7ZXJyfSA8L2Rpdj5cclxuICAgIHsvaWZ9XHJcbjwvZGl2PlxyXG57L2lmfVxyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbmltcG9ydCB7IGNyZWF0ZUV2ZW50LCBjcmVhdGVTdG9yZSB9IGZyb20gJ2VmZmVjdG9yJ1xyXG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnZ2wtbWF0cml4J1xyXG5cclxuY2xhc3MgTWFya2VyIHtcclxuICAgIGNvbnN0cnVjdG9yIChhciwgcHJlZCwgbWFya2VyTG9zc0RlbGF5KSB7XHJcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxyXG4gICAgdGhpcy5tYXJrZXJMb3N0Q291bnRkb3duID0gbWFya2VyTG9zc0RlbGF5XHJcbiAgICB0aGlzLnVwZGF0ZSA9IGNyZWF0ZUV2ZW50KClcclxuICAgIHRoaXMubWFya2VyID0gY3JlYXRlU3RvcmUobWF0NClcclxuICAgIHRoaXMubWFya2VyLm9uKHRoaXMudXBkYXRlLCAoXywgdmFsdWUpID0+IHtcclxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGFyLnZpc2libGVNYXJrZXJzLmluYygpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgYXIudmlzaWJsZU1hcmtlcnMuZGVjKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgIH0pXHJcbiAgICBpZiAocHJlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgYXIubWFya2VyRm91bmQud2F0Y2goKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGV2LmRhdGEubWF0cml4R0xfUkgpXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXIubWFya2VyRm91bmQud2F0Y2goKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwcmVkKGV2KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoZXYuZGF0YS5tYXRyaXhHTF9SSClcclxuICAgICAgICAgICAgICAgIHRoaXMubWFya2VyTG9zdENvdW50ZG93biA9IG1hcmtlckxvc3NEZWxheVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2VyTG9zdENvdW50ZG93biA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKG51bGwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtlckxvc3RDb3VudGRvd24tLVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGFyLm1hcmtlckxvc3Qud2F0Y2goKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKG51bGwpXHJcbiAgICB9KX1cclxuXHJcbiAgICB3YXRjaCAoZnVuYykge1xyXG4gICAgICAgIHRoaXMubWFya2VyLndhdGNoKGZ1bmMpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IE1hcmtlciB9XHJcbiIsIjxzY3JpcHQ+XHJcbmltcG9ydCB7IGdldENvbnRleHQsIHNldENvbnRleHQgfSBmcm9tICdzdmVsdGUnXHJcbmltcG9ydCB7IE1hcmtlciB9IGZyb20gJy4vbWFya2VyLmpzJ1xyXG5cclxuZXhwb3J0IGxldCBwYXR0ZXJuID0gJ2Fzc2V0cy9oaXJvLnBhdHQnXHJcbmV4cG9ydCBsZXQgbWFya2VyTG9zc0RlbGF5ID0gMTBcclxuXHJcbmNvbnN0IGFyID0gZ2V0Q29udGV4dCgnYXInKVxyXG5sZXQgbWFya2VySWQgPSAtMVxyXG5cclxuYXIubG9hZFBhdHRlcm4ocGF0dGVybiwgKGlkKSA9PiB7IG1hcmtlcklkID0gaWQgfSlcclxuXHJcbmNvbnN0IG1hcmtlciA9IG5ldyBNYXJrZXIoYXIsIGV2ID0+IChtYXJrZXJJZCA+PSAwKSAmJiAoZXYuZGF0YS5tYXJrZXIuaWRQYXR0ID09PSBtYXJrZXJJZCksIG1hcmtlckxvc3NEZWxheSlcclxuc2V0Q29udGV4dCgnbWFya2VyJywgbWFya2VyKVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgY2xhc3M9J21hcmtlcic+XHJcbiAgICA8c2xvdD48L3Nsb3Q+XHJcbjwvZGl2PlxyXG5cclxuIiwiPCEtLVxyXG48c2NyaXB0IGxhbmc9XCJ0eXBlc2NyaXB0XCI+XHJcbjwvc2NyaXB0PlxyXG4tLT5cclxuXHJcbjxzY3JpcHQ+XHJcbiAgIGltcG9ydCAnLi90aGVtZS5jc3MnXHJcbiAgIGltcG9ydCBCYWJ5bG9uSnNSZW5kZXJlciBmcm9tICcuL0JhYnlsb25KU1JlbmRlcmVyLnN2ZWx0ZSdcclxuICAgaW1wb3J0IFRocmVlSnNSZW5kZXJlciBmcm9tICcuL1RocmVlSlNSZW5kZXJlci5zdmVsdGUnXHJcbiAgIGltcG9ydCBDYWJsZXNSZW5kZXJlciBmcm9tICcuL0NhYmxlc1JlbmRlcmVyLnN2ZWx0ZSdcclxuICAgaW1wb3J0IENhcmQgZnJvbSAnLi9DYXJkLnN2ZWx0ZSdcclxuICAgaW1wb3J0IENhcmRCdXR0b24gZnJvbSAnLi9DYXJkQnV0dG9uLnN2ZWx0ZSdcclxuICAgaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9Zb3VUdWJlRWxlbWVudC5zdmVsdGUnXHJcbiAgIGltcG9ydCB7IG9uTW91bnQgfSBmcm9tICdzdmVsdGUnO1xyXG5cclxuICAgaW1wb3J0IHsgQ1NTM0RSZW5kZXJlciB9IGZyb20gJy4vQ1NTM0RSZW5kZXJlci5qcydcclxuXHJcbiAgIGltcG9ydCBBUkNvbnRleHQgZnJvbSAnLi9BUkNvbnRleHQuc3ZlbHRlJ1xyXG4gICAvLyBpbXBvcnQgQVJNYXRyaXggZnJvbSAnLi9BUk1hcmtlck1hdHJpeC5zdmVsdGUnXHJcbiAgIGltcG9ydCBBUlBhdHRlcm4gZnJvbSAnLi9BUk1hcmtlclBhdHRlcm4uc3ZlbHRlJ1xyXG4gICAvLyBpbXBvcnQgQVJVbmtub3duIGZyb20gJy4vQVJNYXJrZXJVbmtub3duLnN2ZWx0ZSdcclxuICAgLy8gaW1wb3J0IEFSUVIgZnJvbSAnLi9BUk1hcmtlclFSLnN2ZWx0ZSdcclxuXHJcbiAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICAgaHRtbC5jbGFzc0xpc3QuYWRkKCd0ZXh0LWdyYXktOTAwJylcclxuICAgaHRtbC5jbGFzc0xpc3QuYWRkKCdhbnRpYWxpYXNlZCcpXHJcbiAgIGh0bWwuY2xhc3NMaXN0LmFkZCgnbGVhZGluZy10aWdodCcpXHJcblxyXG4gICBsZXQgbWFpblxyXG4gICBsZXQgY2FyZFxyXG4gICBsZXQgcGhvbmVcclxuICBcclxuICAgZXhwb3J0IGxldCBTQ0VORV9TQ0FMRSA9IDAuMTtcclxuXHJcbiAgIGNvbnN0IGVuZ2luZUNyZWF0b3IgPSAoY250KSA9PiB7XHJcbiAgICAgICBjb25zdCBlbmdpbmUgPSBuZXcgQ1NTM0RSZW5kZXJlcigpXHJcbiAgICAgICBjbnQuYXBwZW5kQ2hpbGQoIGVuZ2luZS5kb21FbGVtZW50IClcclxuICAgICAgIHJldHVybiBlbmdpbmVcclxuICAgfVxyXG5cclxuICAgY29uc3QgY3ViZVNjZW5lID0gYXN5bmMgKGVuZ2luZSkgPT4ge1xyXG4gICAgICAgbGV0IHNjZW5lID0gYXdhaXQgQkFCWUxPTi5TY2VuZUxvYWRlci5Mb2FkQXN5bmMoJycsICdodHRwczovL2RpZ2l0YWxyYXRzLnJ1L2Fzc2V0cy9iYWJ5bG9uSlNfbG9nb192My5iYWJ5bG9uJywgZW5naW5lKVxyXG4gICAgLy8gc2NlbmUuYXV0b0NsZWFyID0gZmFsc2VcclxuICAgICAgIHNjZW5lLmNsZWFyQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjQoMCwgMCwgMCwgMClcclxuICAgICAgIGxldCBjYW1lcmEgPSBuZXcgQkFCWUxPTi5DYW1lcmEoJ2NhbWVyYTEnLCBuZXcgQkFCWUxPTi5WZWN0b3IzLlplcm8oKSwgc2NlbmUpXHJcbiAgICAgICBjYW1lcmEuYXR0YWNoQ29udHJvbChlbmdpbmUuZ2V0UmVuZGVyaW5nQ2FudmFzKCksIHRydWUpXHJcblxyXG4gICAgICAgY29uc3Qgbm9kZXMgPSBbc2NlbmUucm9vdE5vZGVzWzBdLCBzY2VuZS5yb290Tm9kZXNbMV1dXHJcblxyXG4gICAgICAgbGV0IG1hcmtlclJvb3QgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKCdtYXJrZXJSb290JylcclxuICAgICAgIG5vZGVzWzBdLnBhcmVudCA9IG1hcmtlclJvb3RcclxuICAgICAgIG5vZGVzWzFdLnBhcmVudCA9IG1hcmtlclJvb3RcclxuICAgICAgICBcclxuICAgICAgIHJldHVybiBbc2NlbmUsIGNhbWVyYSwgbWFya2VyUm9vdF1cclxuICAgfVxyXG5cclxuICAgLypcclxuICAgY29uc3Qgc2hvd0NvbnRleHRNZW51ID0gKGVsKSA9PiB7XHJcbiAgICAgICB2YXIgZXZ0ID0gZWwub3duZXJEb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIilcclxuICAgICAgIGV2dC5pbml0RXZlbnQoJ2NvbnRleHRtZW51JywgdHJ1ZSwgdHJ1ZSkgLy8gYnViYmxlcyA9IHRydWUsIGNhbmNlbGFibGUgPSB0cnVlXHJcbiAgICAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QpIHtcclxuICAgICAgICAgICByZXR1cm4gZWwuZmlyZUV2ZW50KCdvbmNvbnRleHRtZW51JywgZXZ0KVxyXG4gICAgICAgfVxyXG4gICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgcmV0dXJuICFlbC5kaXNwYXRjaEV2ZW50KGV2dClcclxuICAgICAgIH0gICAgXHJcbiAgIH1cclxuICAgKi9cclxuXHJcblxyXG5cclxuICAgY29uc3Qgc2hvd0NvbnRleHRNZW51ID0gKGVsZW1lbnQpID0+IHtcclxuICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQpXHJcbiAgICAgICB2YXIgZXZ0ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpXHJcbiAgICAgICBldnQuaW5pdE1vdXNlRXZlbnQoXHJcbiAgICAgICAgICAgJ2NsaWNrJyAvLyBldmVudCB0eXBlXHJcbiAgICAgICAgICAgLHRydWUgICAvLyBjYW4gYnViYmxlP1xyXG4gICAgICAgICAgICx0cnVlICAgLy8gY2FuY2VsYWJsZT9cclxuICAgICAgICAgICAsd2luZG93IC8vIHRoZSBldmVudCdzIGFic3RyYWN0IHZpZXcgKHNob3VsZCBhbHdheXMgYmUgd2luZG93KVxyXG4gICAgICAgICAgICwxICAgICAgLy8gbW91c2UgY2xpY2sgY291bnQgKG9yIGV2ZW50IFwiZGV0YWlsXCIpXHJcbiAgICAgICAgICAgLDEwMCAgICAvLyBldmVudCdzIHNjcmVlbiB4IGNvb3JkaW5hdGVcclxuICAgICAgICAgICAsMjAwICAgIC8vIGV2ZW50J3Mgc2NyZWVuIHkgY29vcmRpbmF0ZVxyXG4gICAgICAgICAgICwxMDAgICAgLy8gZXZlbnQncyBjbGllbnQgeCBjb29yZGluYXRlXHJcbiAgICAgICAgICAgLDIwMCAgICAvLyBldmVudCdzIGNsaWVudCB5IGNvb3JkaW5hdGVcclxuICAgICAgICAgICAsZmFsc2UgIC8vIHdoZXRoZXIgb3Igbm90IENUUkwgd2FzIHByZXNzZWQgZHVyaW5nIGV2ZW50XHJcbiAgICAgICAgICAgLGZhbHNlICAvLyB3aGV0aGVyIG9yIG5vdCBBTFQgd2FzIHByZXNzZWQgZHVyaW5nIGV2ZW50XHJcbiAgICAgICAgICAgLGZhbHNlICAvLyB3aGV0aGVyIG9yIG5vdCBTSElGVCB3YXMgcHJlc3NlZCBkdXJpbmcgZXZlbnRcclxuICAgICAgICAgICAsZmFsc2UgIC8vIHdoZXRoZXIgb3Igbm90IHRoZSBtZXRhIGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgZXZlbnRcclxuICAgICAgICAgICAsMiAgICAgIC8vIGluZGljYXRlcyB3aGljaCBidXR0b24gKGlmIGFueSkgY2F1c2VkIHRoZSBtb3VzZSBldmVudCAoMSA9IHByaW1hcnkgYnV0dG9uKVxyXG4gICAgICAgICAgICxudWxsICAgLy8gcmVsYXRlZFRhcmdldCAob25seSBhcHBsaWNhYmxlIGZvciBtb3VzZW92ZXIvbW91c2VvdXQgZXZlbnRzKVxyXG4gICAgICAgKVxyXG4gICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KXtcclxuICAgICAgICAgICAvLyBkaXNwYXRjaCBmb3IgSUVcclxuICAgICAgICAgICByZXR1cm4gZWxlbWVudC5maXJlRXZlbnQoJ29uY2xpY2snLCBldnQpXHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIC8vIGRpc3BhdGNoIGZvciBmaXJlZm94ICsgb3RoZXJzXHJcbiAgICAgICAgICAgcmV0dXJuICFlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZ0KTtcclxuICAgICAgIH0gICAgICAgIFxyXG4gICB9XHJcblxyXG4gICBjb25zdCBjYXJkU2NlbmUgPSBhc3luYyAoZW5naW5lKSA9PiB7XHJcbiAgICAgICBjb25zdCBUSFJFRSA9IHJlcXVpcmUoJ3RocmVlJylcclxuICAgICAgIGNvbnN0IENTUzNEID0gcmVxdWlyZSgnLi9DU1MzRFJlbmRlcmVyLmpzJylcclxuXHJcbiAgICAgICBjb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpXHJcblxyXG4gICAgICAgLy8gQ3JlYXRlIGEgY2FtZXJhIGFuZCBhIG1hcmtlciByb290IG9iamVjdCBmb3IgeW91ciBUaHJlZS5qcyBzY2VuZS5cclxuICAgICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSgpXHJcbiAgICAgICBjYW1lcmEubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlXHJcbiAgICAgICBjYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDApXHJcbiAgICAgICBjYW1lcmEudXBkYXRlTWF0cml4KClcclxuICAgICAgIHNjZW5lLmFkZChjYW1lcmEpXHJcblxyXG4gICAgICAgY29uc3QgbGlnaHQxID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHhmZmZmZmYpXHJcbiAgICAgICBsaWdodDEucG9zaXRpb24uc2V0KDQwMCwgNTAwLCAxMDApXHJcbiAgICAgICBzY2VuZS5hZGQobGlnaHQxKVxyXG4gICAgICAgY29uc3QgbGlnaHQyID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHhmZmZmZmYpXHJcbiAgICAgICBsaWdodDIucG9zaXRpb24uc2V0KC00MDAsIC01MDAsIC0xMDApXHJcbiAgICAgICBzY2VuZS5hZGQobGlnaHQyKVxyXG5cclxuICAgICAgIC8qXHJcbiAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMHB4JztcclxuICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JztcclxuICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDEuMDtcclxuICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvciggTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmICkuZ2V0U3R5bGUoKTtcclxuICAgICAgICovXHJcblxyXG4gICAgICAgY29uc3QgbWFya2VyUm9vdCA9ICBuZXcgQ1NTM0QuQ1NTM0RPYmplY3QoY2FyZCk7XHJcbiAgICAgICBtYXJrZXJSb290Lm1hdHJpeEF1dG9VcGRhdGUgPSBmYWxzZVxyXG5cclxuICAgICAgIHNjZW5lLmFkZChtYXJrZXJSb290KVxyXG4gICAgICAgc2NlbmUuc2NhbGUuc2V0KFNDRU5FX1NDQUxFLFNDRU5FX1NDQUxFLFNDRU5FX1NDQUxFKTtcclxuXHJcbiAgICAgICByZXR1cm4gW3NjZW5lLCBjYW1lcmEsIG1hcmtlclJvb3RdXHJcbiAgIH1cclxuICAgb25Nb3VudChhc3luYyAoKSA9PiB7XHJcbn0pO1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBnbG9iYWw+XHJcbjpnbG9iYWwoYm9keSkge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG46Z2xvYmFsKC5jYXJkKSB7XHJcbiAgICB6LWluZGV4OiAxMDA7XHJcbn1cclxuOmdsb2JhbCgjdGVsKSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBib3R0b206IDEwJTtcclxuICAgIGxlZnQ6IDEwJTtcclxufVxyXG46Z2xvYmFsKCNhZGQpIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogMTAlO1xyXG4gICAgbGVmdDogMjElOyAgIFxyXG59XHJcbjwvc3R5bGU+XHJcblxyXG48bWFpbiBiaW5kOnRoaXM9e21haW59PlxyXG4gICAgPEFSQ29udGV4dD5cclxuICAgICAgICA8IS0tXHJcbiAgICAgICAgPEFSUGF0dGVybiBwYXR0ZXJuPVwiYXNzZXRzL2hpcm8ucGF0dFwiPlxyXG4gICAgICAgICAgICA8QmFieWxvbkpzUmVuZGVyZXIgY3JlYXRlU2NlbmU9e2N1YmVTY2VuZX0gZW5hYmxlZD1cInRydWVcIiAvPlxyXG4gICAgICAgICAgICA8VGhyZWVKc1JlbmRlcmVyLz5cclxuICAgICAgICAgICAgPFRocmVlSnNSZW5kZXJlciBjcmVhdGVFbmdpbmU9e2VuZ2luZUNyZWF0b3J9IGNyZWF0ZVNjZW5lPXtjYXJkU2NlbmV9PlxyXG4gICAgICAgICAgICAgICAgPENhcmQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhcmRCdXR0b24vPlxyXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkQnV0dG9uLz5cclxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgICAgIDxFbGVtZW50IGlkPSdTSk96M3FqZlFYVScgeD0wIHk9MCB6PTI0MCByeT0wLz5cclxuICAgICAgICAgICAgICAgIDxFbGVtZW50IGlkPSdZMi14Wi0xSEUtUScgeD0yNDAgeT0wIHo9MCByeT17TWF0aC5QSS8yfS8+XHJcbiAgICAgICAgICAgICAgICA8RWxlbWVudCBpZD0nSXJ5ZGtsTnBjRkknIHg9MCB5PTAgej0tMjQwIHJ5PXtNYXRoLlBJfS8+XHJcbiAgICAgICAgICAgICAgICA8RWxlbWVudCBpZD0nOXVieXRFc0NhUzAnIHg9LTI0MCB5PTAgej0wIHJ5PXstTWF0aC5QSS8yfS8+XHJcbiAgICAgICAgICAgIDwvVGhyZWVKc1JlbmRlcmVyPlxyXG4gICAgICAgIDwvQVJQYXR0ZXJuPlxyXG4gICAgICAgIC0tPlxyXG4gICAgICAgIDxBUlBhdHRlcm4gcGF0dGVybj1cIi9hc3NldHMvcGF0dGVybi1xci1tYXJrZXIucGF0dFwiPlxyXG4gICAgICAgICAgICA8VGhyZWVKc1JlbmRlcmVyIGRpcmVjdFVwZGF0ZT0nZmFsc2UnIHNjYWxlPScwLjAwNScgY3JlYXRlRW5naW5lPXtlbmdpbmVDcmVhdG9yfSBjcmVhdGVTY2VuZT17Y2FyZFNjZW5lfT5cclxuICAgICAgICAgICAgPC9UaHJlZUpzUmVuZGVyZXI+XHJcbiAgICAgICAgICAgIDxCYWJ5bG9uSnNSZW5kZXJlciBjcmVhdGVTY2VuZT17Y3ViZVNjZW5lfSBlbmFibGVkPVwidHJ1ZVwiIC8+XHJcbiAgICAgICAgICAgIDxUaHJlZUpzUmVuZGVyZXIvPlxyXG4gICAgICAgICAgICA8Q2FibGVzUmVuZGVyZXI+PC9DYWJsZXNSZW5kZXJlcj5cclxuICAgICAgICA8L0FSUGF0dGVybj5cclxuICAgIDwvQVJDb250ZXh0PlxyXG4gICAgXHJcbiAgICBcclxuPC9tYWluPlxyXG5cclxuPGRpdiBiaW5kOnRoaXM9e2NhcmR9IGNsYXNzPSdjYXJkJz5cclxuICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1zbSB3LWZ1bGwgbGc6bWF4LXctZnVsbCBsZzpmbGV4XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImgtNDggbGc6aC1hdXRvIGxnOnctNDggZmxleC1ub25lIGJnLWNvdmVyIHJvdW5kZWQtdCBsZzpyb3VuZGVkLXQtbm9uZSBsZzpyb3VuZGVkLWwgdGV4dC1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1nL2NhcmQtbGVmdC5qcGcnKVwiIHRpdGxlPVwiV29tYW4gaG9sZGluZyBhIG11Z1wiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJib3JkZXItciBib3JkZXItYiBib3JkZXItbCBib3JkZXItZ3JheS00MDAgbGc6Ym9yZGVyLWwtMCBsZzpib3JkZXItdCBsZzpib3JkZXItZ3JheS00MDAgYmctdHJhbnNwYXJlbnQgcm91bmRlZC1iIGxnOnJvdW5kZWQtYi1ub25lIGxnOnJvdW5kZWQtciBwLTQgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWJldHdlZW4gbGVhZGluZy1ub3JtYWxcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLThcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImZpbGwtY3VycmVudCB0ZXh0LWdyYXktNTAwIHctMyBoLTMgbXItMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNCA4VjZhNiA2IDAgMSAxIDEyIDB2MmgxYTIgMiAwIDAgMSAyIDJ2OGEyIDIgMCAwIDEtMiAySDNhMiAyIDAgMCAxLTItMnYtOGMwLTEuMS45LTIgMi0yaDF6bTUgNi43M1YxN2gydi0yLjI3YTIgMiAwIDEgMC0yIDB6TTcgNnYyaDZWNmEzIDMgMCAwIDAtNiAwelwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgTWVtYmVycyBvbmx5XHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1ncmF5LTkwMCBmb250LWJvbGQgdGV4dC14bCBtYi0yXCI+Q2FuIGNvZmZlZSBtYWtlIHlvdSBhIGJldHRlciBkZXZlbG9wZXI/PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtZ3JheS03MDAgdGV4dC1iYXNlXCI+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFZvbHVwdGF0aWJ1cyBxdWlhLCBudWxsYSEgTWFpb3JlcyBldCBwZXJmZXJlbmRpcyBlYXF1ZSwgZXhlcmNpdGF0aW9uZW0gcHJhZXNlbnRpdW0gbmloaWwuPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBtci00XCIgc3JjPVwiL2Fzc2V0cy9pbWcvam9uYXRoYW4uanBnXCIgYWx0PVwiQXZhdGFyIG9mIEpvbmF0aGFuIFJlaW5pbmtcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktOTAwIGxlYWRpbmctbm9uZVwiPkpvbmF0aGFuIFJlaW5pbms8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNjAwXCI+QXVnIDE4PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGlkPSd0ZWwnIGNsYXNzPVwiYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS00MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMiBweC00IGJvcmRlci1iLTQgYm9yZGVyLWJsdWUtNzAwIGhvdmVyOmJvcmRlci1ibHVlLTUwMCByb3VuZGVkXCI+XHJcbiAgICAgICAgPGFkZHJlc3M+XHJcbiAgICAgICAgICAgIDxhIGJpbmQ6dGhpcz17cGhvbmV9IGhyZWY9XCJ0ZWw6MTIzLTQ1Ni03ODkwXCI+0J/QvtC30LLQvtC90Lgg0LzQvdC1PC9hPlxyXG4gICAgICAgIDwvYWRkcmVzcz5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwLnN2ZWx0ZSdcclxuY29uc3QgYXBwID0gbmV3IEFwcCh7XHJcbiAgdGFyZ2V0OiBkb2N1bWVudC5ib2R5LFxyXG4gIHByb3BzOiB7XHJcbiAgICBuYW1lOiAnd29ybGQnXHJcbiAgfVxyXG59KVxyXG5cclxud2luZG93LmFwcCA9IGFwcFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwXHJcbiIsIid1c2Ugc3RyaWN0J1xuLyoqXG4gKiBCYXNlZCBvbiBodHRwOi8vd3d3LmVtYWdpeC5uZXQvYWNhZGVtaWMvbXNjcy1wcm9qZWN0L2l0ZW0vY2FtZXJhLXN5bmMtd2l0aC1jc3MzLWFuZC13ZWJnbC10aHJlZWpzXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciB5b21vdHN1IC8gaHR0cHM6Ly95b21vdHN1Lm5ldC9cbiAqL1xuXG5pbXBvcnQge1xuXHRNYXRyaXg0LFxuXHRPYmplY3QzRCxcblx0VmVjdG9yM1xufSBmcm9tICd0aHJlZSdcblxudmFyIENTUzNET2JqZWN0ID0gZnVuY3Rpb24gKCBlbGVtZW50ICkge1xuXG5cdE9iamVjdDNELmNhbGwoIHRoaXMgKTtcblxuXHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXHR0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHR0aGlzLmVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcblx0dGhpcy5jdXN0b20gPSB7XG5cdFx0YW5pbWF0aW9uOiB1bmRlZmluZWRcblx0fVxuXG5cdHRoaXMuYWRkRXZlbnRMaXN0ZW5lciggJ3JlbW92ZWQnLCBmdW5jdGlvbiAoKSB7XG5cblx0XHR0aGlzLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG9iamVjdCApIHtcblxuXHRcdFx0aWYgKCBvYmplY3QuZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgb2JqZWN0LmVsZW1lbnQucGFyZW50Tm9kZSAhPT0gbnVsbCApIHtcblxuXHRcdFx0XHRvYmplY3QuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBvYmplY3QuZWxlbWVudCApO1xuXG5cdFx0XHR9XG5cblx0XHR9ICk7XG5cblx0fSApO1xuXG59O1xuXG5DU1MzRE9iamVjdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3QzRC5wcm90b3R5cGUgKTtcbkNTUzNET2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENTUzNET2JqZWN0O1xuXG52YXIgQ1NTM0RTcHJpdGUgPSBmdW5jdGlvbiAoIGVsZW1lbnQgKSB7XG5cblx0Q1NTM0RPYmplY3QuY2FsbCggdGhpcywgZWxlbWVudCApO1xuXG59O1xuXG5DU1MzRFNwcml0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDU1MzRE9iamVjdC5wcm90b3R5cGUgKTtcbkNTUzNEU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENTUzNEU3ByaXRlO1xuXG4vL1xuXG52YXIgQ1NTM0RSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcblxuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdHZhciBfd2lkdGgsIF9oZWlnaHQ7XG5cdHZhciBfd2lkdGhIYWxmLCBfaGVpZ2h0SGFsZjtcblxuXHR2YXIgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcblxuXHR2YXIgY2FjaGUgPSB7XG5cdFx0Y2FtZXJhOiB7IGZvdjogMCwgc3R5bGU6ICcnIH0sXG5cdFx0b2JqZWN0czogbmV3IFdlYWtNYXAoKVxuXHR9O1xuXG5cdHZhciBkb21FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcblx0ZG9tRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG5cdHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQ7XG5cblx0dmFyIGNhbWVyYUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuXG5cdGNhbWVyYUVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNmb3JtU3R5bGUgPSAncHJlc2VydmUtM2QnO1xuXHRjYW1lcmFFbGVtZW50LnN0eWxlLnRyYW5zZm9ybVN0eWxlID0gJ3ByZXNlcnZlLTNkJztcblx0Y2FtZXJhRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG5cdGRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNhbWVyYUVsZW1lbnQgKTtcblxuXHR2YXIgaXNJRSA9IC9UcmlkZW50L2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApO1xuXG5cdHRoaXMuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogX3dpZHRoLFxuXHRcdFx0aGVpZ2h0OiBfaGVpZ2h0XG5cdFx0fTtcblxuXHR9O1xuXG5cdHRoaXMuc2V0U2l6ZSA9IGZ1bmN0aW9uICggd2lkdGgsIGhlaWdodCApIHtcblxuXHRcdF93aWR0aCA9IHdpZHRoO1xuXHRcdF9oZWlnaHQgPSBoZWlnaHQ7XG5cdFx0X3dpZHRoSGFsZiA9IF93aWR0aCAvIDI7XG5cdFx0X2hlaWdodEhhbGYgPSBfaGVpZ2h0IC8gMjtcblxuXHRcdGRvbUVsZW1lbnQuc3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG5cdFx0ZG9tRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuXG5cdFx0Y2FtZXJhRWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4Jztcblx0XHRjYW1lcmFFbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG5cblx0fTtcblxuXHRmdW5jdGlvbiBlcHNpbG9uKCB2YWx1ZSApIHtcblxuXHRcdHJldHVybiBNYXRoLmFicyggdmFsdWUgKSA8IDFlLTEwID8gMCA6IHZhbHVlO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXRDYW1lcmFDU1NNYXRyaXgoIG1hdHJpeCApIHtcblxuXHRcdHZhciBlbGVtZW50cyA9IG1hdHJpeC5lbGVtZW50cztcblxuXHRcdHJldHVybiAnbWF0cml4M2QoJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgMCBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggLSBlbGVtZW50c1sgMSBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDIgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAzIF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgNCBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggLSBlbGVtZW50c1sgNSBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDYgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyA3IF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgOCBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggLSBlbGVtZW50c1sgOSBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDEwIF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgMTEgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAxMiBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggLSBlbGVtZW50c1sgMTMgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAxNCBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDE1IF0gKSArXG5cdFx0JyknO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBnZXRPYmplY3RDU1NNYXRyaXgoIG1hdHJpeCwgY2FtZXJhQ1NTTWF0cml4ICkge1xuXG5cdFx0dmFyIGVsZW1lbnRzID0gbWF0cml4LmVsZW1lbnRzO1xuXHRcdHZhciBtYXRyaXgzZCA9ICdtYXRyaXgzZCgnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAwIF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgMSBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDIgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAzIF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCAtIGVsZW1lbnRzWyA0IF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCAtIGVsZW1lbnRzWyA1IF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCAtIGVsZW1lbnRzWyA2IF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCAtIGVsZW1lbnRzWyA3IF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgOCBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDkgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAxMCBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDExIF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgMTIgXSApICsgJywnICtcblx0XHRcdGVwc2lsb24oIGVsZW1lbnRzWyAxMyBdICkgKyAnLCcgK1xuXHRcdFx0ZXBzaWxvbiggZWxlbWVudHNbIDE0IF0gKSArICcsJyArXG5cdFx0XHRlcHNpbG9uKCBlbGVtZW50c1sgMTUgXSApICtcblx0XHQnKSc7XG5cblx0XHRpZiAoIGlzSUUgKSB7XG5cblx0XHRcdHJldHVybiAndHJhbnNsYXRlKC01MCUsLTUwJSknICtcblx0XHRcdFx0J3RyYW5zbGF0ZSgnICsgX3dpZHRoSGFsZiArICdweCwnICsgX2hlaWdodEhhbGYgKyAncHgpJyArXG5cdFx0XHRcdGNhbWVyYUNTU01hdHJpeCArXG5cdFx0XHRcdG1hdHJpeDNkO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuICd0cmFuc2xhdGUoLTUwJSwtNTAlKScgKyBtYXRyaXgzZDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyT2JqZWN0KCBvYmplY3QsIHNjZW5lLCBjYW1lcmEsIGNhbWVyYUNTU01hdHJpeCApIHtcblxuXHRcdGlmICggb2JqZWN0IGluc3RhbmNlb2YgQ1NTM0RPYmplY3QgKSB7XG5cblx0XHRcdG9iamVjdC5vbkJlZm9yZVJlbmRlciggX3RoaXMsIHNjZW5lLCBjYW1lcmEgKTtcblxuXHRcdFx0dmFyIHN0eWxlO1xuXG5cdFx0XHRpZiAoIG9iamVjdCBpbnN0YW5jZW9mIENTUzNEU3ByaXRlICkge1xuXG5cdFx0XHRcdC8vIGh0dHA6Ly9zd2lmdGNvZGVyLndvcmRwcmVzcy5jb20vMjAwOC8xMS8yNS9jb25zdHJ1Y3RpbmctYS1iaWxsYm9hcmQtbWF0cml4L1xuXG5cdFx0XHRcdG1hdHJpeC5jb3B5KCBjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlICk7XG5cdFx0XHRcdG1hdHJpeC50cmFuc3Bvc2UoKTtcblx0XHRcdFx0bWF0cml4LmNvcHlQb3NpdGlvbiggb2JqZWN0Lm1hdHJpeFdvcmxkICk7XG5cdFx0XHRcdG1hdHJpeC5zY2FsZSggb2JqZWN0LnNjYWxlICk7XG5cblx0XHRcdFx0bWF0cml4LmVsZW1lbnRzWyAzIF0gPSAwO1xuXHRcdFx0XHRtYXRyaXguZWxlbWVudHNbIDcgXSA9IDA7XG5cdFx0XHRcdG1hdHJpeC5lbGVtZW50c1sgMTEgXSA9IDA7XG5cdFx0XHRcdG1hdHJpeC5lbGVtZW50c1sgMTUgXSA9IDE7XG5cblx0XHRcdFx0c3R5bGUgPSBnZXRPYmplY3RDU1NNYXRyaXgoIG1hdHJpeCwgY2FtZXJhQ1NTTWF0cml4ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0c3R5bGUgPSBnZXRPYmplY3RDU1NNYXRyaXgoIG9iamVjdC5tYXRyaXhXb3JsZCwgY2FtZXJhQ1NTTWF0cml4ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0dmFyIGVsZW1lbnQgPSBvYmplY3QuZWxlbWVudDtcblx0XHRcdHZhciBjYWNoZWRPYmplY3QgPSBjYWNoZS5vYmplY3RzLmdldCggb2JqZWN0ICk7XG5cblx0XHRcdGlmICggY2FjaGVkT2JqZWN0ID09PSB1bmRlZmluZWQgfHwgY2FjaGVkT2JqZWN0LnN0eWxlICE9PSBzdHlsZSApIHtcblxuXHRcdFx0XHRlbGVtZW50LnN0eWxlLldlYmtpdFRyYW5zZm9ybSA9IHN0eWxlO1xuXHRcdFx0XHRlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlO1xuXG5cdFx0XHRcdHZhciBvYmplY3REYXRhID0geyBzdHlsZTogc3R5bGUgfTtcblxuXHRcdFx0XHRpZiAoIGlzSUUgKSB7XG5cblx0XHRcdFx0XHRvYmplY3REYXRhLmRpc3RhbmNlVG9DYW1lcmFTcXVhcmVkID0gZ2V0RGlzdGFuY2VUb1NxdWFyZWQoIGNhbWVyYSwgb2JqZWN0ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhY2hlLm9iamVjdHMuc2V0KCBvYmplY3QsIG9iamVjdERhdGEgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBvYmplY3QudmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuXG5cdFx0XHRpZiAoIGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gY2FtZXJhRWxlbWVudCApIHtcblxuXHRcdFx0XHRjYW1lcmFFbGVtZW50LmFwcGVuZENoaWxkKCBlbGVtZW50ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0b2JqZWN0Lm9uQWZ0ZXJSZW5kZXIoIF90aGlzLCBzY2VuZSwgY2FtZXJhICk7XG5cblx0XHR9XG5cblx0XHRmb3IgKCB2YXIgaSA9IDAsIGwgPSBvYmplY3QuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSArKyApIHtcblxuXHRcdFx0cmVuZGVyT2JqZWN0KCBvYmplY3QuY2hpbGRyZW5bIGkgXSwgc2NlbmUsIGNhbWVyYSwgY2FtZXJhQ1NTTWF0cml4ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHZhciBnZXREaXN0YW5jZVRvU3F1YXJlZCA9IGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBhID0gbmV3IFZlY3RvcjMoKTtcblx0XHR2YXIgYiA9IG5ldyBWZWN0b3IzKCk7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gKCBvYmplY3QxLCBvYmplY3QyICkge1xuXG5cdFx0XHRhLnNldEZyb21NYXRyaXhQb3NpdGlvbiggb2JqZWN0MS5tYXRyaXhXb3JsZCApO1xuXHRcdFx0Yi5zZXRGcm9tTWF0cml4UG9zaXRpb24oIG9iamVjdDIubWF0cml4V29ybGQgKTtcblxuXHRcdFx0cmV0dXJuIGEuZGlzdGFuY2VUb1NxdWFyZWQoIGIgKTtcblxuXHRcdH07XG5cblx0fSgpO1xuXG5cdGZ1bmN0aW9uIGZpbHRlckFuZEZsYXR0ZW4oIHNjZW5lICkge1xuXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0c2NlbmUudHJhdmVyc2UoIGZ1bmN0aW9uICggb2JqZWN0ICkge1xuXG5cdFx0XHRpZiAoIG9iamVjdCBpbnN0YW5jZW9mIENTUzNET2JqZWN0ICkgcmVzdWx0LnB1c2goIG9iamVjdCApO1xuXG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gek9yZGVyKCBzY2VuZSApIHtcblxuXHRcdHZhciBzb3J0ZWQgPSBmaWx0ZXJBbmRGbGF0dGVuKCBzY2VuZSApLnNvcnQoIGZ1bmN0aW9uICggYSwgYiApIHtcblxuXHRcdFx0dmFyIGRpc3RhbmNlQSA9IGNhY2hlLm9iamVjdHMuZ2V0KCBhICkuZGlzdGFuY2VUb0NhbWVyYVNxdWFyZWQ7XG5cdFx0XHR2YXIgZGlzdGFuY2VCID0gY2FjaGUub2JqZWN0cy5nZXQoIGIgKS5kaXN0YW5jZVRvQ2FtZXJhU3F1YXJlZDtcblxuXHRcdFx0cmV0dXJuIGRpc3RhbmNlQSAtIGRpc3RhbmNlQjtcblxuXHRcdH0gKTtcblxuXHRcdHZhciB6TWF4ID0gc29ydGVkLmxlbmd0aDtcblxuXHRcdGZvciAoIHZhciBpID0gMCwgbCA9IHNvcnRlZC5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXG5cdFx0XHRzb3J0ZWRbIGkgXS5lbGVtZW50LnN0eWxlLnpJbmRleCA9IHpNYXggLSBpO1xuXG5cdFx0fVxuXG5cdH1cblxuXHR0aGlzLnJlbmRlciA9IGZ1bmN0aW9uICggc2NlbmUsIGNhbWVyYSApIHtcblxuXHRcdHZhciBmb3YgPSBjYW1lcmEucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1sgNSBdICogX2hlaWdodEhhbGY7XG5cblx0XHRpZiAoIGNhY2hlLmNhbWVyYS5mb3YgIT09IGZvdiApIHtcblxuXHRcdFx0aWYgKCBjYW1lcmEuaXNQZXJzcGVjdGl2ZUNhbWVyYSApIHtcblxuXHRcdFx0XHRkb21FbGVtZW50LnN0eWxlLldlYmtpdFBlcnNwZWN0aXZlID0gZm92ICsgJ3B4Jztcblx0XHRcdFx0ZG9tRWxlbWVudC5zdHlsZS5wZXJzcGVjdGl2ZSA9IGZvdiArICdweCc7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0ZG9tRWxlbWVudC5zdHlsZS5XZWJraXRQZXJzcGVjdGl2ZSA9ICcnO1xuXHRcdFx0XHRkb21FbGVtZW50LnN0eWxlLnBlcnNwZWN0aXZlID0gJyc7XG5cblx0XHRcdH1cblxuXHRcdFx0Y2FjaGUuY2FtZXJhLmZvdiA9IGZvdjtcblxuXHRcdH1cblxuXHRcdGlmICggc2NlbmUuYXV0b1VwZGF0ZSA9PT0gdHJ1ZSApIHNjZW5lLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG5cdFx0aWYgKCBjYW1lcmEucGFyZW50ID09PSBudWxsICkgY2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG5cblx0XHRpZiAoIGNhbWVyYS5pc09ydGhvZ3JhcGhpY0NhbWVyYSApIHtcblxuXHRcdFx0dmFyIHR4ID0gLSAoIGNhbWVyYS5yaWdodCArIGNhbWVyYS5sZWZ0ICkgLyAyO1xuXHRcdFx0dmFyIHR5ID0gKCBjYW1lcmEudG9wICsgY2FtZXJhLmJvdHRvbSApIC8gMjtcblxuXHRcdH1cblxuXHRcdHZhciBjYW1lcmFDU1NNYXRyaXggPSBjYW1lcmEuaXNPcnRob2dyYXBoaWNDYW1lcmEgP1xuXHRcdFx0J3NjYWxlKCcgKyBmb3YgKyAnKScgKyAndHJhbnNsYXRlKCcgKyBlcHNpbG9uKCB0eCApICsgJ3B4LCcgKyBlcHNpbG9uKCB0eSApICsgJ3B4KScgKyBnZXRDYW1lcmFDU1NNYXRyaXgoIGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UgKSA6XG5cdFx0XHQndHJhbnNsYXRlWignICsgZm92ICsgJ3B4KScgKyBnZXRDYW1lcmFDU1NNYXRyaXgoIGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UgKTtcblxuXHRcdHZhciBzdHlsZSA9IGNhbWVyYUNTU01hdHJpeCArXG5cdFx0XHQndHJhbnNsYXRlKCcgKyBfd2lkdGhIYWxmICsgJ3B4LCcgKyBfaGVpZ2h0SGFsZiArICdweCknO1xuXG5cdFx0aWYgKCBjYWNoZS5jYW1lcmEuc3R5bGUgIT09IHN0eWxlICYmICEgaXNJRSApIHtcblxuXHRcdFx0Y2FtZXJhRWxlbWVudC5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSBzdHlsZTtcblx0XHRcdGNhbWVyYUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gc3R5bGU7XG5cblx0XHRcdGNhY2hlLmNhbWVyYS5zdHlsZSA9IHN0eWxlO1xuXG5cdFx0fVxuXG5cdFx0cmVuZGVyT2JqZWN0KCBzY2VuZSwgc2NlbmUsIGNhbWVyYSwgY2FtZXJhQ1NTTWF0cml4ICk7XG5cblx0XHRpZiAoIGlzSUUgKSB7XG5cblx0XHRcdC8vIElFMTAgYW5kIDExIGRvZXMgbm90IHN1cHBvcnQgJ3ByZXNlcnZlLTNkJy5cblx0XHRcdC8vIFRodXMsIHotb3JkZXIgaW4gM0Qgd2lsbCBub3Qgd29yay5cblx0XHRcdC8vIFdlIGhhdmUgdG8gY2FsYyB6LW9yZGVyIG1hbnVhbGx5IGFuZCBzZXQgQ1NTIHotaW5kZXggZm9yIElFLlxuXHRcdFx0Ly8gRllJOiB6LWluZGV4IGNhbid0IGhhbmRsZSBvYmplY3QgaW50ZXJzZWN0aW9uXG5cdFx0XHR6T3JkZXIoIHNjZW5lICk7XG5cblx0XHR9XG5cblx0fTtcblxufTtcblxuZXhwb3J0IHsgQ1NTM0RPYmplY3QsIENTUzNEU3ByaXRlLCBDU1MzRFJlbmRlcmVyIH07Il0sInNvdXJjZVJvb3QiOiIifQ==